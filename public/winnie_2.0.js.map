{"version":3,"file":"winnie_2.0.js","sources":["../node_modules/svelte/shared.js","../src/LegendIconCell.html","../src/LineNode.html","../src/TreeView.html","../node_modules/scanex-leaflet-sidebar/dist/scanex-leaflet-sidebar.cjs.js","../node_modules/leaflet-iconlayers/dist/iconLayers.js","../src/Map.html","../src/Share.html","../src/App.html","../src/main.js"],"sourcesContent":["function noop() {}\n\nfunction assign(tar, src) {\n\tfor (var k in src) tar[k] = src[k];\n\treturn tar;\n}\n\nfunction assignTrue(tar, src) {\n\tfor (var k in src) tar[k] = 1;\n\treturn tar;\n}\n\nfunction isPromise(value) {\n\treturn value && typeof value.then === 'function';\n}\n\nfunction callAfter(fn, i) {\n\tif (i === 0) fn();\n\treturn () => {\n\t\tif (!--i) fn();\n\t};\n}\n\nfunction addLoc(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nfunction exclude(src, prop) {\n\tconst tar = {};\n\tfor (const k in src) k === prop || (tar[k] = src[k]);\n\treturn tar;\n}\n\nfunction run(fn) {\n\tfn();\n}\n\nfunction append(target, node) {\n\ttarget.appendChild(node);\n}\n\nfunction insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor);\n}\n\nfunction detachNode(node) {\n\tnode.parentNode.removeChild(node);\n}\n\nfunction detachBetween(before, after) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction detachBefore(after) {\n\twhile (after.previousSibling) {\n\t\tafter.parentNode.removeChild(after.previousSibling);\n\t}\n}\n\nfunction detachAfter(before) {\n\twhile (before.nextSibling) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction reinsertBetween(before, after, target) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\ttarget.appendChild(before.parentNode.removeChild(before.nextSibling));\n\t}\n}\n\nfunction reinsertChildren(parent, target) {\n\twhile (parent.firstChild) target.appendChild(parent.firstChild);\n}\n\nfunction reinsertAfter(before, target) {\n\twhile (before.nextSibling) target.appendChild(before.nextSibling);\n}\n\nfunction reinsertBefore(after, target) {\n\tvar parent = after.parentNode;\n\twhile (parent.firstChild !== after) target.appendChild(parent.firstChild);\n}\n\nfunction destroyEach(iterations, detach) {\n\tfor (var i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detach);\n\t}\n}\n\nfunction createFragment() {\n\treturn document.createDocumentFragment();\n}\n\nfunction createElement(name) {\n\treturn document.createElement(name);\n}\n\nfunction createSvgElement(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\nfunction createText(data) {\n\treturn document.createTextNode(data);\n}\n\nfunction createComment() {\n\treturn document.createComment('');\n}\n\nfunction addListener(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n}\n\nfunction removeListener(node, event, handler, options) {\n\tnode.removeEventListener(event, handler, options);\n}\n\nfunction setAttribute(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse node.setAttribute(attribute, value);\n}\n\nfunction setAttributes(node, attributes) {\n\tfor (var key in attributes) {\n\t\tif (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key in node) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tsetAttribute(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\nfunction setCustomElementData(node, prop, value) {\n\tif (prop in node) {\n\t\tnode[prop] = value;\n\t} else {\n\t\tsetAttribute(node, prop, value);\n\t}\n}\n\nfunction setXlinkAttribute(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\nfunction getBindingGroupValue(group) {\n\tvar value = [];\n\tfor (var i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.push(group[i].__value);\n\t}\n\treturn value;\n}\n\nfunction toNumber(value) {\n\treturn value === '' ? undefined : +value;\n}\n\nfunction timeRangesToArray(ranges) {\n\tvar array = [];\n\tfor (var i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\nfunction children (element) {\n\treturn Array.from(element.childNodes);\n}\n\nfunction claimElement (nodes, name, attributes, svg) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeName === name) {\n\t\t\tfor (var j = 0; j < node.attributes.length; j += 1) {\n\t\t\t\tvar attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) node.removeAttribute(attribute.name);\n\t\t\t}\n\t\t\treturn nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n\t\t}\n\t}\n\n\treturn svg ? createSvgElement(name) : createElement(name);\n}\n\nfunction claimText (nodes, data) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeType === 3) {\n\t\t\tnode.data = data;\n\t\t\treturn nodes.splice(i, 1)[0];\n\t\t}\n\t}\n\n\treturn createText(data);\n}\n\nfunction setData(text, data) {\n\ttext.data = '' + data;\n}\n\nfunction setInputType(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {}\n}\n\nfunction setStyle(node, key, value) {\n\tnode.style.setProperty(key, value);\n}\n\nfunction selectOption(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nfunction selectOptions(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nfunction selectValue(select) {\n\tvar selectedOption = select.querySelector(':checked') || select.options[0];\n\treturn selectedOption && selectedOption.__value;\n}\n\nfunction selectMultipleValue(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), function(option) {\n\t\treturn option.__value;\n\t});\n}\n\nfunction addResizeListener(element, fn) {\n\tif (getComputedStyle(element).position === 'static') {\n\t\telement.style.position = 'relative';\n\t}\n\n\tconst object = document.createElement('object');\n\tobject.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n\tobject.type = 'text/html';\n\n\tlet win;\n\n\tobject.onload = () => {\n\t\twin = object.contentDocument.defaultView;\n\t\twin.addEventListener('resize', fn);\n\t};\n\n\tif (/Trident/.test(navigator.userAgent)) {\n\t\telement.appendChild(object);\n\t\tobject.data = 'about:blank';\n\t} else {\n\t\tobject.data = 'about:blank';\n\t\telement.appendChild(object);\n\t}\n\n\treturn {\n\t\tcancel: () => {\n\t\t\twin && win.removeEventListener && win.removeEventListener('resize', fn);\n\t\t\telement.removeChild(object);\n\t\t}\n\t};\n}\n\nfunction toggleClass(element, name, toggle) {\n\telement.classList[toggle ? 'add' : 'remove'](name);\n}\n\nfunction linear(t) {\n\treturn t;\n}\n\nfunction generateRule({ a, b, delta, duration }, ease, fn) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + delta * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\n\treturn keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n}\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\nfunction wrapTransition(component, node, fn, params, intro) {\n\tlet obj = fn.call(component, node, params);\n\tlet duration;\n\tlet ease;\n\tlet cssText;\n\n\tlet initialised = false;\n\n\treturn {\n\t\tt: intro ? 0 : 1,\n\t\trunning: false,\n\t\tprogram: null,\n\t\tpending: null,\n\n\t\trun(b, callback) {\n\t\t\tif (typeof obj === 'function') {\n\t\t\t\ttransitionManager.wait().then(() => {\n\t\t\t\t\tobj = obj();\n\t\t\t\t\tthis._run(b, callback);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._run(b, callback);\n\t\t\t}\n\t\t},\n\n\t\t_run(b, callback) {\n\t\t\tduration = obj.duration || 300;\n\t\t\tease = obj.easing || linear;\n\n\t\t\tconst program = {\n\t\t\t\tstart: window.performance.now() + (obj.delay || 0),\n\t\t\t\tb,\n\t\t\t\tcallback: callback || noop\n\t\t\t};\n\n\t\t\tif (intro && !initialised) {\n\t\t\t\tif (obj.css && obj.delay) {\n\t\t\t\t\tcssText = node.style.cssText;\n\t\t\t\t\tnode.style.cssText += obj.css(0, 1);\n\t\t\t\t}\n\n\t\t\t\tif (obj.tick) obj.tick(0, 1);\n\t\t\t\tinitialised = true;\n\t\t\t}\n\n\t\t\tif (!b) {\n\t\t\t\tprogram.group = outros.current;\n\t\t\t\toutros.current.remaining += 1;\n\t\t\t}\n\n\t\t\tif (obj.delay) {\n\t\t\t\tthis.pending = program;\n\t\t\t} else {\n\t\t\t\tthis.start(program);\n\t\t\t}\n\n\t\t\tif (!this.running) {\n\t\t\t\tthis.running = true;\n\t\t\t\ttransitionManager.add(this);\n\t\t\t}\n\t\t},\n\n\t\tstart(program) {\n\t\t\tcomponent.fire(`${program.b ? 'intro' : 'outro'}.start`, { node });\n\n\t\t\tprogram.a = this.t;\n\t\t\tprogram.delta = program.b - program.a;\n\t\t\tprogram.duration = duration * Math.abs(program.b - program.a);\n\t\t\tprogram.end = program.start + program.duration;\n\n\t\t\tif (obj.css) {\n\t\t\t\tif (obj.delay) node.style.cssText = cssText;\n\n\t\t\t\tconst rule = generateRule(program, ease, obj.css);\n\t\t\t\ttransitionManager.addRule(rule, program.name = '__svelte_' + hash(rule));\n\n\t\t\t\tnode.style.animation = (node.style.animation || '')\n\t\t\t\t\t.split(', ')\n\t\t\t\t\t.filter(anim => anim && (program.delta < 0 || !/__svelte/.test(anim)))\n\t\t\t\t\t.concat(`${program.name} ${program.duration}ms linear 1 forwards`)\n\t\t\t\t\t.join(', ');\n\t\t\t}\n\n\t\t\tthis.program = program;\n\t\t\tthis.pending = null;\n\t\t},\n\n\t\tupdate(now) {\n\t\t\tconst program = this.program;\n\t\t\tif (!program) return;\n\n\t\t\tconst p = now - program.start;\n\t\t\tthis.t = program.a + program.delta * ease(p / program.duration);\n\t\t\tif (obj.tick) obj.tick(this.t, 1 - this.t);\n\t\t},\n\n\t\tdone() {\n\t\t\tconst program = this.program;\n\t\t\tthis.t = program.b;\n\n\t\t\tif (obj.tick) obj.tick(this.t, 1 - this.t);\n\n\t\t\tcomponent.fire(`${program.b ? 'intro' : 'outro'}.end`, { node });\n\n\t\t\tif (!program.b && !program.invalidated) {\n\t\t\t\tprogram.group.callbacks.push(() => {\n\t\t\t\t\tprogram.callback();\n\t\t\t\t\tif (obj.css) transitionManager.deleteRule(node, program.name);\n\t\t\t\t});\n\n\t\t\t\tif (--program.group.remaining === 0) {\n\t\t\t\t\tprogram.group.callbacks.forEach(run);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (obj.css) transitionManager.deleteRule(node, program.name);\n\t\t\t}\n\n\t\t\tthis.running = !!this.pending;\n\t\t},\n\n\t\tabort(reset) {\n\t\t\tif (this.program) {\n\t\t\t\tif (reset && obj.tick) obj.tick(1, 0);\n\t\t\t\tif (obj.css) transitionManager.deleteRule(node, this.program.name);\n\t\t\t\tthis.program = this.pending = null;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\t\t},\n\n\t\tinvalidate() {\n\t\t\tif (this.program) {\n\t\t\t\tthis.program.invalidated = true;\n\t\t\t}\n\t\t}\n\t};\n}\n\nlet outros = {};\n\nfunction groupOutros() {\n\toutros.current = {\n\t\tremaining: 0,\n\t\tcallbacks: []\n\t};\n}\n\nvar transitionManager = {\n\trunning: false,\n\ttransitions: [],\n\tbound: null,\n\tstylesheet: null,\n\tactiveRules: {},\n\tpromise: null,\n\n\tadd(transition) {\n\t\tthis.transitions.push(transition);\n\n\t\tif (!this.running) {\n\t\t\tthis.running = true;\n\t\t\trequestAnimationFrame(this.bound || (this.bound = this.next.bind(this)));\n\t\t}\n\t},\n\n\taddRule(rule, name) {\n\t\tif (!this.stylesheet) {\n\t\t\tconst style = createElement('style');\n\t\t\tdocument.head.appendChild(style);\n\t\t\ttransitionManager.stylesheet = style.sheet;\n\t\t}\n\n\t\tif (!this.activeRules[name]) {\n\t\t\tthis.activeRules[name] = true;\n\t\t\tthis.stylesheet.insertRule(`@keyframes ${name} ${rule}`, this.stylesheet.cssRules.length);\n\t\t}\n\t},\n\n\tnext() {\n\t\tthis.running = false;\n\n\t\tconst now = window.performance.now();\n\t\tlet i = this.transitions.length;\n\n\t\twhile (i--) {\n\t\t\tconst transition = this.transitions[i];\n\n\t\t\tif (transition.program && now >= transition.program.end) {\n\t\t\t\ttransition.done();\n\t\t\t}\n\n\t\t\tif (transition.pending && now >= transition.pending.start) {\n\t\t\t\ttransition.start(transition.pending);\n\t\t\t}\n\n\t\t\tif (transition.running) {\n\t\t\t\ttransition.update(now);\n\t\t\t\tthis.running = true;\n\t\t\t} else if (!transition.pending) {\n\t\t\t\tthis.transitions.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (this.running) {\n\t\t\trequestAnimationFrame(this.bound);\n\t\t} else if (this.stylesheet) {\n\t\t\tlet i = this.stylesheet.cssRules.length;\n\t\t\twhile (i--) this.stylesheet.deleteRule(i);\n\t\t\tthis.activeRules = {};\n\t\t}\n\t},\n\n\tdeleteRule(node, name) {\n\t\tnode.style.animation = node.style.animation\n\t\t\t.split(', ')\n\t\t\t.filter(anim => anim && anim.indexOf(name) === -1)\n\t\t\t.join(', ');\n\t},\n\n\twait() {\n\t\tif (!transitionManager.promise) {\n\t\t\ttransitionManager.promise = Promise.resolve();\n\t\t\ttransitionManager.promise.then(() => {\n\t\t\t\ttransitionManager.promise = null;\n\t\t\t});\n\t\t}\n\n\t\treturn transitionManager.promise;\n\t}\n};\n\nfunction wrapAnimation(node, from, fn, params) {\n\tif (!from) return;\n\n\tconst to = node.getBoundingClientRect();\n\tif (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom) return;\n\n\tconst info = fn(node, { from, to }, params);\n\n\tconst duration = 'duration' in info ? info.duration : 300;\n\tconst delay = 'delay' in info ? info.delay : 0;\n\tconst ease = info.easing || linear;\n\tconst start = window.performance.now() + delay;\n\tconst end = start + duration;\n\n\tconst program = {\n\t\ta: 0,\n\t\tt: 0,\n\t\tb: 1,\n\t\tdelta: 1,\n\t\tduration,\n\t\tstart,\n\t\tend\n\t};\n\n\tconst cssText = node.style.cssText;\n\n\tconst animation = {\n\t\tpending: delay ? program : null,\n\t\tprogram: delay ? null : program,\n\t\trunning: true,\n\n\t\tstart() {\n\t\t\tif (info.css) {\n\t\t\t\tif (delay) node.style.cssText = cssText;\n\n\t\t\t\tconst rule = generateRule(program, ease, info.css);\n\t\t\t\tprogram.name = `__svelte_${hash(rule)}`;\n\n\t\t\t\ttransitionManager.addRule(rule, program.name);\n\n\t\t\t\tnode.style.animation = (node.style.animation || '')\n\t\t\t\t\t.split(', ')\n\t\t\t\t\t.filter(anim => anim && (program.delta < 0 || !/__svelte/.test(anim)))\n\t\t\t\t\t.concat(`${program.name} ${program.duration}ms linear 1 forwards`)\n\t\t\t\t\t.join(', ');\n\t\t\t}\n\n\t\t\tanimation.program = program;\n\t\t\tanimation.pending = null;\n\t\t},\n\n\t\tupdate: now => {\n\t\t\tconst p = now - program.start;\n\t\t\tconst t = program.a + program.delta * ease(p / program.duration);\n\t\t\tif (info.tick) info.tick(t, 1 - t);\n\t\t},\n\n\t\tdone() {\n\t\t\tif (info.tick) info.tick(1, 0);\n\t\t\tanimation.stop();\n\t\t},\n\n\t\tstop() {\n\t\t\tif (info.css) transitionManager.deleteRule(node, program.name);\n\t\t\tanimation.running = false;\n\t\t}\n\t};\n\n\ttransitionManager.add(animation);\n\n\tif (info.tick) info.tick(0, 1);\n\n\tif (delay) {\n\t\tif (info.css) node.style.cssText += info.css(0, 1);\n\t} else {\n\t\tanimation.start();\n\t}\n\n\treturn animation;\n}\n\nfunction fixPosition(node) {\n\tconst style = getComputedStyle(node);\n\n\tif (style.position !== 'absolute' && style.position !== 'fixed') {\n\t\tconst { width, height } = style;\n\t\tconst a = node.getBoundingClientRect();\n\t\tnode.style.position = 'absolute';\n\t\tnode.style.width = width;\n\t\tnode.style.height = height;\n\t\tconst b = node.getBoundingClientRect();\n\n\t\tif (a.left !== b.left || a.top !== b.top) {\n\t\t\tconst style = getComputedStyle(node);\n\t\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\n\t\t\tnode.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n\t\t}\n\t}\n}\n\nfunction handlePromise(promise, info) {\n\tvar token = info.token = {};\n\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\n\t\tinfo.resolved = key && { [key]: value };\n\n\t\tconst child_ctx = assign(assign({}, info.ctx), info.resolved);\n\t\tconst block = type && (info.current = type)(info.component, child_ctx);\n\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroupOutros();\n\t\t\t\t\t\tblock.o(() => {\n\t\t\t\t\t\t\tblock.d(1);\n\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\n\t\t\tblock.c();\n\t\t\tblock[block.i ? 'i' : 'm'](info.mount(), info.anchor);\n\n\t\t\tinfo.component.root.set({}); // flush any handlers that were created\n\t\t}\n\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t}\n\n\tif (isPromise(promise)) {\n\t\tpromise.then(value => {\n\t\t\tupdate(info.then, 1, info.value, value);\n\t\t}, error => {\n\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t});\n\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\n\t\tinfo.resolved = { [info.value]: promise };\n\t}\n}\n\nfunction destroyBlock(block, lookup) {\n\tblock.d(1);\n\tlookup[block.key] = null;\n}\n\nfunction outroAndDestroyBlock(block, lookup) {\n\tblock.o(function() {\n\t\tdestroyBlock(block, lookup);\n\t});\n}\n\nfunction fixAndOutroAndDestroyBlock(block, lookup) {\n\tblock.f();\n\toutroAndDestroyBlock(block, lookup);\n}\n\nfunction updateKeyedEach(old_blocks, component, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, intro_method, next, get_context) {\n\tvar o = old_blocks.length;\n\tvar n = list.length;\n\n\tvar i = o;\n\tvar old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\n\tvar new_blocks = [];\n\tvar new_lookup = {};\n\tvar deltas = {};\n\n\tvar i = n;\n\twhile (i--) {\n\t\tvar child_ctx = get_context(ctx, list, i);\n\t\tvar key = get_key(child_ctx);\n\t\tvar block = lookup[key];\n\n\t\tif (!block) {\n\t\t\tblock = create_each_block(component, key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\tblock.p(changed, child_ctx);\n\t\t}\n\n\t\tnew_blocks[i] = new_lookup[key] = block;\n\n\t\tif (key in old_indexes) deltas[key] = Math.abs(i - old_indexes[key]);\n\t}\n\n\tvar will_move = {};\n\tvar did_move = {};\n\n\tfunction insert(block) {\n\t\tblock[intro_method](node, next);\n\t\tlookup[block.key] = block;\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\n\twhile (o && n) {\n\t\tvar new_block = new_blocks[n - 1];\n\t\tvar old_block = old_blocks[o - 1];\n\t\tvar new_key = new_block.key;\n\t\tvar old_key = old_block.key;\n\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t}\n\n\t\telse if (!new_lookup[old_key]) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t}\n\n\t\telse if (!lookup[new_key] || will_move[new_key]) {\n\t\t\tinsert(new_block);\n\t\t}\n\n\t\telse if (did_move[old_key]) {\n\t\t\to--;\n\n\t\t} else if (deltas[new_key] > deltas[old_key]) {\n\t\t\tdid_move[new_key] = true;\n\t\t\tinsert(new_block);\n\n\t\t} else {\n\t\t\twill_move[old_key] = true;\n\t\t\to--;\n\t\t}\n\t}\n\n\twhile (o--) {\n\t\tvar old_block = old_blocks[o];\n\t\tif (!new_lookup[old_block.key]) destroy(old_block, lookup);\n\t}\n\n\twhile (n) insert(new_blocks[n - 1]);\n\n\treturn new_blocks;\n}\n\nfunction measure(blocks) {\n\tconst rects = {};\n\tlet i = blocks.length;\n\twhile (i--) rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();\n\treturn rects;\n}\n\nfunction animate(blocks, rects, fn, params) {\n\tlet i = blocks.length;\n\twhile (i--) {\n\t\tconst block = blocks[i];\n\t\tconst from = rects[block.key];\n\n\t\tif (!from) continue;\n\t\tconst to = block.node.getBoundingClientRect();\n\n\t\tif (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom) continue;\n\n\n\t}\n}\n\nfunction getSpreadUpdate(levels, updates) {\n\tvar update = {};\n\n\tvar to_null_out = {};\n\tvar accounted_for = {};\n\n\tvar i = levels.length;\n\twhile (i--) {\n\t\tvar o = levels[i];\n\t\tvar n = updates[i];\n\n\t\tif (n) {\n\t\t\tfor (var key in o) {\n\t\t\t\tif (!(key in n)) to_null_out[key] = 1;\n\t\t\t}\n\n\t\t\tfor (var key in n) {\n\t\t\t\tif (!accounted_for[key]) {\n\t\t\t\t\tupdate[key] = n[key];\n\t\t\t\t\taccounted_for[key] = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlevels[i] = n;\n\t\t} else {\n\t\t\tfor (var key in o) {\n\t\t\t\taccounted_for[key] = 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tfor (var key in to_null_out) {\n\t\tif (!(key in update)) update[key] = undefined;\n\t}\n\n\treturn update;\n}\n\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nconst invalidAttributeNameCharacter = /[\\s'\">\\/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n\nfunction spread(args) {\n\tconst attributes = Object.assign({}, ...args);\n\tlet str = '';\n\n\tObject.keys(attributes).forEach(name => {\n\t\tif (invalidAttributeNameCharacter.test(name)) return;\n\n\t\tconst value = attributes[name];\n\t\tif (value === undefined) return;\n\t\tif (value === true) str += \" \" + name;\n\n\t\tconst escaped = String(value)\n\t\t\t.replace(/\"/g, '&#34;')\n\t\t\t.replace(/'/g, '&#39;');\n\n\t\tstr += \" \" + name + \"=\" + JSON.stringify(escaped);\n\t});\n\n\treturn str;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n\t'&': '&amp;',\n\t'<': '&lt;',\n\t'>': '&gt;'\n};\n\nfunction escape(html) {\n\treturn String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\n\nfunction each(items, assign, fn) {\n\tlet str = '';\n\tfor (let i = 0; i < items.length; i += 1) {\n\t\tstr += fn(assign(items[i], i));\n\t}\n\treturn str;\n}\n\nconst missingComponent = {\n\t_render: () => ''\n};\n\nfunction validateSsrComponent(component, name) {\n\tif (!component || !component._render) {\n\t\tif (name === 'svelte:component') name += ' this={...}';\n\t\tthrow new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n\t}\n\n\treturn component;\n}\n\nfunction debug(file, line, column, values) {\n\tconsole.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`);\n\tconsole.log(values);\n\treturn '';\n}\n\nfunction blankObject() {\n\treturn Object.create(null);\n}\n\nfunction destroy(detach) {\n\tthis.destroy = noop;\n\tthis.fire('destroy');\n\tthis.set = noop;\n\n\tthis._fragment.d(detach !== false);\n\tthis._fragment = null;\n\tthis._state = {};\n}\n\nfunction destroyDev(detach) {\n\tdestroy.call(this, detach);\n\tthis.destroy = function() {\n\t\tconsole.warn('Component was already destroyed');\n\t};\n}\n\nfunction _differs(a, b) {\n\treturn a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\n\nfunction _differsImmutable(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\nfunction fire(eventName, data) {\n\tvar handlers =\n\t\teventName in this._handlers && this._handlers[eventName].slice();\n\tif (!handlers) return;\n\n\tfor (var i = 0; i < handlers.length; i += 1) {\n\t\tvar handler = handlers[i];\n\n\t\tif (!handler.__calling) {\n\t\t\ttry {\n\t\t\t\thandler.__calling = true;\n\t\t\t\thandler.call(this, data);\n\t\t\t} finally {\n\t\t\t\thandler.__calling = false;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction flush(component) {\n\tcomponent._lock = true;\n\tcallAll(component._beforecreate);\n\tcallAll(component._oncreate);\n\tcallAll(component._aftercreate);\n\tcomponent._lock = false;\n}\n\nfunction get() {\n\treturn this._state;\n}\n\nfunction init(component, options) {\n\tcomponent._handlers = blankObject();\n\tcomponent._slots = blankObject();\n\tcomponent._bind = options._bind;\n\tcomponent._staged = {};\n\n\tcomponent.options = options;\n\tcomponent.root = options.root || component;\n\tcomponent.store = options.store || component.root.store;\n\n\tif (!options.root) {\n\t\tcomponent._beforecreate = [];\n\t\tcomponent._oncreate = [];\n\t\tcomponent._aftercreate = [];\n\t}\n}\n\nfunction on(eventName, handler) {\n\tvar handlers = this._handlers[eventName] || (this._handlers[eventName] = []);\n\thandlers.push(handler);\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = handlers.indexOf(handler);\n\t\t\tif (~index) handlers.splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction set(newState) {\n\tthis._set(assign({}, newState));\n\tif (this.root._lock) return;\n\tflush(this.root);\n}\n\nfunction _set(newState) {\n\tvar oldState = this._state,\n\t\tchanged = {},\n\t\tdirty = false;\n\n\tnewState = assign(this._staged, newState);\n\tthis._staged = {};\n\n\tfor (var key in newState) {\n\t\tif (this._differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t}\n\tif (!dirty) return;\n\n\tthis._state = assign(assign({}, oldState), newState);\n\tthis._recompute(changed, this._state);\n\tif (this._bind) this._bind(changed, this._state);\n\n\tif (this._fragment) {\n\t\tthis.fire(\"state\", { changed: changed, current: this._state, previous: oldState });\n\t\tthis._fragment.p(changed, this._state);\n\t\tthis.fire(\"update\", { changed: changed, current: this._state, previous: oldState });\n\t}\n}\n\nfunction _stage(newState) {\n\tassign(this._staged, newState);\n}\n\nfunction setDev(newState) {\n\tif (typeof newState !== 'object') {\n\t\tthrow new Error(\n\t\t\tthis._debugName + '.set was called without an object of data key-values to update.'\n\t\t);\n\t}\n\n\tthis._checkReadOnly(newState);\n\tset.call(this, newState);\n}\n\nfunction callAll(fns) {\n\twhile (fns && fns.length) fns.shift()();\n}\n\nfunction _mount(target, anchor) {\n\tthis._fragment[this._fragment.i ? 'i' : 'm'](target, anchor || null);\n}\n\nvar PENDING = {};\nvar SUCCESS = {};\nvar FAILURE = {};\n\nfunction removeFromStore() {\n\tthis.store._remove(this);\n}\n\nvar proto = {\n\tdestroy,\n\tget,\n\tfire,\n\ton,\n\tset,\n\t_recompute: noop,\n\t_set,\n\t_stage,\n\t_mount,\n\t_differs\n};\n\nvar protoDev = {\n\tdestroy: destroyDev,\n\tget,\n\tfire,\n\ton,\n\tset: setDev,\n\t_recompute: noop,\n\t_set,\n\t_stage,\n\t_mount,\n\t_differs\n};\n\nexport { blankObject, destroy, destroyDev, _differs, _differsImmutable, fire, flush, get, init, on, set, _set, _stage, setDev, callAll, _mount, PENDING, SUCCESS, FAILURE, removeFromStore, proto, protoDev, wrapAnimation, fixPosition, handlePromise, append, insert, detachNode, detachBetween, detachBefore, detachAfter, reinsertBetween, reinsertChildren, reinsertAfter, reinsertBefore, destroyEach, createFragment, createElement, createSvgElement, createText, createComment, addListener, removeListener, setAttribute, setAttributes, setCustomElementData, setXlinkAttribute, getBindingGroupValue, toNumber, timeRangesToArray, children, claimElement, claimText, setData, setInputType, setStyle, selectOption, selectOptions, selectValue, selectMultipleValue, addResizeListener, toggleClass, destroyBlock, outroAndDestroyBlock, fixAndOutroAndDestroyBlock, updateKeyedEach, measure, animate, getSpreadUpdate, invalidAttributeNameCharacter, spread, escaped, escape, each, missingComponent, validateSsrComponent, debug, linear, generateRule, hash, wrapTransition, outros, groupOutros, transitionManager, noop, assign, assignTrue, isPromise, callAfter, addLoc, exclude, run };\n","<span class=\"legendIconCell style\">\n{#if item.RenderStyle.iconUrl}\n\t<img src=\"{item.RenderStyle.iconUrl}\" crossorigin=\"\" alt=\"Style Icon\" />\n{:elseif fillPattern}\n\t<img src=\"{fillPattern}\" alt=\"Style Icon\" class=\"fillPattern\" />\n{:else}\n\t<span class=\"{type} legendIconStyle \" style=\"background-color: {backgroundColor}; border-color: {borderColor};\"></span>\n{/if}\n</span>\n \n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tfillPattern: ({ item }) => {\n\t\t\t\tlet st = L.extend({}, item.RenderStyle, {fillOpacity: 1}),\n\t\t\t\t\tfillPattern = L.gmxUtil.getPatternIcon(null, st);\n\t\t\t\treturn fillPattern ? fillPattern.canvas.toDataURL() : null;\n\t\t\t},\n\t\t\tbackgroundColor: ({ item }) => L.gmxUtil.dec2rgba(item.RenderStyle.fillColor, item.RenderStyle.fillOpacity || 1),\n\t\t\tborderColor: ({ item }) => L.gmxUtil.dec2rgba(item.RenderStyle.color, item.RenderStyle.opacity || 1)\n\t\t},\n\n\t\tonstate({ changed, current, previous }) {\n // console.log('LegendIconCell in onstate', changed, current, previous);\n\t\t}\n\t}\n</script>\n\n\n<style>\n.legendIconCell {\n    /*\n\tleft: -8px;\n    position: relative;\n\t*/\n}\n.legendIconCell img {\n    height: 13px;\n}\n.legendIconCell .polygon {\n    display: inline-block;\n}\n\n.legendIconCell .linestring {\n    border-bottom: unset;\n    border-top: unset;\n    border-right: unset;\n\tborder-radius: unset;\n    border-width: 2px;\n}\n.legendIconCell .point {\n    display: inline-block;\n    width: 10px;\n    height: 10px;\n    /*top: -4px;*/\n}\n.legendIconCell span {\n    width: 10px;\n    height: 10px;\n    border: solid;\n    border-width: 1px;\n\t/*display: inline-block;*/\n    /*position: relative;*/\n    /*top: -2px;*/\n    margin-right: 2px;\n    margin-bottom:2px;\n}\n\n.check.visibility.pointer {\ndisplay: inline-flex;\n}\n\n\n\n\n</style>\n","<li class=\"line cmd:toggleIcons id:{nodeID} {line.type}\" ref:line>\n<div class=\"mega\">\n{#if properties}\n {#if line.type !== 'map'}\n\t{#if line.type === 'group'}\n\t<input class=\"expander expanderInput hidden\" type=\"checkbox\" checked=\"{isOpened}\" ref:expander />\n\t<span class=\"expander pointer expanderCont cmd:clickOnExpander\" on:click=\"clickOnExpander(this)\"></span>\n\t{/if}\n\t\t{#if line.type === 'layer'} <!-- begin: line.type === 'layer' -->\n\t\t\t{#if properties.styles.length > 1}\n\t<span class=\"cont-overlays\"><svg role=\"img\" class=\"svgIcon\"><use xlink:href=\"#overlays\" href=\"#overlays\"></use></svg></span>\n\t\t\t{/if}\n\t<span class=\"icons \">\n\n\t\t{#if gmxTimeline && properties.Temporal && (properties.IsRasterCatalog || (properties.Quicklook && properties.Quicklook !== 'null'))}\n\t\t<span class=\"pointer cmd:toggleTimeline cont-timeline disabled\" title=\"Add timeline\" on:click=\"toggleTimeline(this)\"></span>\n\t\t{/if}\n\t\t\n\t\t{#if isInfo}\n\t\t<span class=\"pointer cmd:showInfo cont-info\" title=\"View description\"></span>\n\t\t{/if}\n \t\t<span class=\"pointer cmd:fitBounds cont-center\"  title=\"Move map to this layer\"></span>\n\t\t\t\n\t\t\n\t</span>\n\t\t{/if} <!-- end: line.type === 'layer' -->\n {/if}\n {#if line.type !== 'map'}\n\t<span class=\"cont\">\n\t\t{#if line.type === 'group'}\n\t\t\t{#if properties.ShowCheckbox}\n\t\t\t\t<input class=\"check visibility pointer cmd:toggleGroup {line.type} id:{nodeID}\" name=\"{checkboxName}\" type=\"{checkboxType}\" checked=\"{isGroupVisible}\" />\n\t\t\t{/if}\n\t\t{:else}\n\t\t\t<input class=\"check visibility pointer cmd:toggleVisibility {line.type} id:{nodeID}\" name=\"{checkboxName}\" type=\"{checkboxType}\" checked=\"{isVisible}\" />\n\t\t{/if}\n\t\t{#if line.type === 'layer' && styles.length && styles.length < 2 && styles[0].RenderStyle}\n\t\t\t<LegendIconCell item={styles[0]} type={properties.GeometryType} />\n\t\t{/if}\n\t\t<label class=\"pointer title \n\t\t\t{!isGroup ? ' cmd:toggleVisibility' : (isShowCheckbox ? ' cmd:toggleGroup' : '')}\n\t\t\t{multiStyles}\n\t\t\t\"\n\t\t\ton:click=\"clickOnExpander(this)\"\n\t\t\t>{properties.title}</label>\n\t\t<div class=\"description {properties.description ? '' : 'collapse'}\">{@html properties.description || ''}</div>\n\t\t{#if line.type === 'layer'}\n\t\t\t{#if styles.length && styles.length > 1 && styles[0].RenderStyle}\n\t\t\t<div class=\"legend\">\n\t\t\t\t<div class=\"legend-cont\">\n\t\t\t\t{#each styles as it}\n\t\t\t\t\t<div class=\"gmx-style-legend\">\n\t\t\t\t\t\t<span class=\"legendIconEye enabled pointer cmd:toggleStyle\"></span>\n\t\t\t\t\t\t<LegendIconCell item={it} type={properties.GeometryType} />\n\t\t\t\t\t\t<span class=\"styleName\">{it.Name}</span>\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/if}\n\t\t{/if}\n\t</span>\n  {/if}\n{/if}\n</div>\n\n{#if line.content.children}\n\t<ul class=\"group css-treeview id_{nodeID} {isOpened || isRoot ? '' : 'collapse'} {isRadio}\" ref:ul>\n\t{#each line.content.children || [] as child}\n\t\t<svelte:self line={child} parentProps={line.content.properties} bind:layersTree bind:gmxTimeline />\n\t{/each}\n\t</ul>\n{/if}\n</li> \n\n<script>\n\n\timport LegendIconCell from './LegendIconCell.html';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t//gmxTimeline: false,\n\t\t\t\tline: null\n\t\t\t}\n\t\t},\n\t\t// helpers: {\n\t\t// },\n\t\tcomputed: {\n\t\t\tcheckboxType: ({ parentProps }) => parentProps && parentProps.list ? 'radio' : 'checkbox',\n\t\t\tcheckboxName: ({ parentProps }) => parentProps && parentProps.GroupID || '',\n\t\t\tproperties: ({ line }) => line.content.properties,\n\t\t\tisGroup: ({ line }) => line.type === 'group',\n\t\t\tisShowCheckbox: ({ properties }) => properties.ShowCheckbox,\n\t\t\tisInfo: ({ properties }) => properties.MetaProperties && Object.keys(properties.MetaProperties).length,\n\t\t\tisRadio: ({ properties }) => properties.list ? 'radio' : 'checkbox',\n\t\t\tnodeID: ({ properties }) => properties ? properties.name || properties.GroupID : 'root',\n\t\t\tstyles: ({ properties }) => properties.gmxStyles ? properties.gmxStyles.styles : [],\n\t\t\tmultiStyles: ({ properties }) => properties.gmxStyles && properties.gmxStyles.styles.length > 1 ? 'multiStyles' : '',\n\t\t\tisRoot: ({ properties }) => properties.MapID,\n\t\t\tisOpened: ({line, layersTree}) => {\n\t\t\t\tlet content = line.content,\n\t\t\t\t\tprops = content.properties,\n\t\t\t\t\tnodeID = props.GroupID || 'root';\n\t\t\t\treturn layersTree.expanded[nodeID];\n\t\t\t},\n\t\t\tisGroupVisible: ({line, layersTree}) => {\n\t\t\t\tlet content = line.content,\n\t\t\t\t\tprops = content.properties,\n\t\t\t\t\tnodeID = props.GroupID || 'root';\n\t\t\t\treturn layersTree.visible[nodeID];\n\t\t\t},\n\t\t\tisVisible: ({line, layersTree}) => {\n\t\t\t\treturn layersTree.visible[line.content.properties.name];\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tLegendIconCell\n\t\t},\n\t\tmethods: {\n\t\t\tclickOnExpander(target) {\n\t\t\t\tlet {line} = this.get();\n\t\t\t\t\n\t\t\t\tif (line.type === 'group' && !line.content.properties.ShowCheckbox) {\n\t\t\t\t\tlet node = this.refs.ul;\n\t\t\t\t\tif (node) {\n\t\t\t\t\t\tlet isCollapse = node.classList.contains('collapse'),\n\t\t\t\t\t\t\texpander = this.refs.expander;\n\t\t\t\t\t\tif (isCollapse) {\n\t\t\t\t\t\t\tnode.classList.remove('collapse');\n\t\t\t\t\t\t\texpander.checked = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.classList.add('collapse');\n\t\t\t\t\t\t\texpander.checked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttoggleTimeline(node) {\n\t\t\t\tif (node) {\n\t\t\t\t\tif (node.classList.contains('disabled')) {\n\t\t\t\t\t\tnode.classList.remove('disabled');\n\t\t\t\t\t\tnode.classList.add('enabled');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.classList.add('disabled');\n\t\t\t\t\t\tnode.classList.remove('enabled');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tshowInfo(target) {\n\t\t\t\tlet node = target.parentNode.nextElementSibling.getElementsByClassName('description')[0];\n\t\t\t\tif (node) {\n\t\t\t\t\tif (node.classList.contains('collapse')) {\n\t\t\t\t\t\tlet {line} = this.get();\n\t\t\t\t\t\tnode.innerHTML = line.content.properties.description || '';\n\t\t\t\t\t\tnode.classList.remove('collapse');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode.classList.add('collapse');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n\n<style>\n\nul {\n\tpadding-inline-start: 12px;\n}\nli {\n\tlist-style: none;\n    text-overflow: ellipsis;\n    white-space: initial;\n    overflow-x: inherit;\n\twidth: 100%;\n}\nli.line > .icons span.cont-center {\n\tvisibility: visible;\n}\nli.line:hover > .icons span.cont-center {\n\tvisibility: visible;\n}\nli.line:hover > .cont label.title {\n\tfont-weight: normal;\n}\n\nsvg {\n\tpointer-events: none;\n}\n\nsvg {\n    height: 14px;\n    width: 14px;\n}\n.timeline {\n    position: absolute;\n    top: -3px;\n    left: 2px;\n}\n.timeline.disabled {\n\tfill: #999999;\n}\n.timeline.enabled {\n\tfill: #45B0D8;\n}\n\n.pointer {\n    cursor: pointer;\n}\n.expanderInput {\n\tdisplay: initial;\n\tposition: relative;\n\tright: 17px;\n\ttop: 0;\n}\n.expanderCont {\n    position: relative;\n\ttop: -5px;\n}\n.legend {\n\tpadding-left: 20px;\n    display: none;\n}\n.legend-cont {\n\tfloat: left;\n\tbackground: #FFF;\n    top: 3px;\n\n}\n\ninput.check.visibility:checked ~ .legend {\n    display: block;\n\tclear: both;\n}\n.gmx-style-legend .legendIconCell.style {\n    top: 0px;\n    position: relative;\n}\n.gmx-style-legend .legendIconCell {\n    width: 100%;\n}\n.legendIconEye {\n\tdisplay: inline-block;\n}\n.legendIconEye > .off {\n    position: relative;\n}\n.legendIconEye.enabled > .on, .legendIconEye > .off {\n    display: inline-block;\n}\n.legendIconEye > .on, .legendIconEye.enabled > .off {\n    display: none;\n}\n\n:global(.collapse) {\n    display: none;\n}\n\nspan.cont-overlays {\n    position: relative;\n    left: 26px;\n    padding-top: 2px;\n}\nspan.icons {\n\tz-index: 1;\n    right: 8px;\n    position: relative;\n    /*position: absolute;*/\n}\n.hidden {\n    visibility: hidden;\n}\n\n.styleName {\n    position: relative;\n    bottom: 4px;\n    z-index: 2;\n    font-size: 12px;\n\n}\n\n\n</style>\n","<div class=\"TreeView\" on:click=\"chkEvent(event)\">\n\t<LineNode line={rawTree} parentProps={rawTree.content.properties} bind:layersTree bind:gmxTimeline />\n</div>\n \n\n<style>\n.TreeView {\n    position: absolute;\n\twidth: 358px;\n    overflow-y: scroll;\n\tbackground-color: white;\n}\n</style>\n\n<script>\n\timport LineNode from './LineNode.html';\n\tlet regs = {\n\t\tcmd: /cmd:(\\w+)/,\n\t\tid: /id:(\\w+)/\n\t}\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tconfig: {},\n\t\t\t\tlayersTree: {\n\t\t\t\t\tvisible: {},\n\t\t\t\t\texpanded: {}\n\t\t\t\t},\n\t\t\t\t//gmxTimeline: false,\n\t\t\t\tgroup: null,\n\t\t\t\trawTree: null\n\t\t\t}\n\t\t},\n\n\t\tmethods: {\n\t\t\tchkEvent(ev) {\n\t\t\t\tlet target = ev.target,\n\t\t\t\t\tclassName = target.className,\n\t\t\t\t\tarr = regs.cmd.exec(className);\n\n\t\t\t\tif (arr && arr.length === 2) {\n\t\t\t\t\tlet out = {\n\t\t\t\t\t\tcmd: arr[1],\n\t\t\t\t\t\ttype: ev.type,\n\t\t\t\t\t\toriginalEvent: ev\n\t\t\t\t\t};\n\t\t\t\t\tfor(let i = 0; i < 10; i++) {\n\t\t\t\t\t\tif (target.classList.contains('line')) {\n\t\t\t\t\t\t\tout.nodeType = target.classList.contains('layer') ? 'layer' : 'group';\n\t\t\t\t\t\t\tout.id = this._getId(target.className);\n\t\t\t\t\t\t\tout.target = target;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget = target.parentNode;\n\t\t\t\t\t}\n\t\t\t\t\tif (out.id) {\n\t\t\t\t\t\tthis.treeCommands(out);\n\t\t\t\t\t\tthis.fire('command', out);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_getId(className) {\n\t\t\t\tlet arr = regs.id.exec(className);\n\t\t\t\treturn arr && arr.length === 2 ? arr[1] : '';\n\t\t\t},\n\t\t\t_isExistVisible(node, layersTree) {\n\t\t\t\tlet cnt = 0,\n\t\t\t\t\tlen = node.children.length; \n\t\t\t\tfor(let i = 0; i < len; i++) {\n\t\t\t\t\tlet it = node.children[i],\n\t\t\t\t\t\tid = this._getId(it.className);\n\t\t\t\t\tif (layersTree.visible[id]) {\n\t\t\t\t\t\tcnt++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn cnt === 0 ? 0 :\t\t// notVisibleLayers\n\t\t\t\t\t(cnt === len ? 1 :\t\t// allVisibleLayers\n\t\t\t\t\t0.5);\t\t\t\t\t// existsVisibleLayers\n\t\t\t},\n\n\t\t\t_toggleParents(node, visible, layersTree) {\n\t\t\t\tlet flag = true;\n\t\t\t\twhile(flag) {\n\t\t\t\t\tnode = node.parentNode\n\t\t\t\t\tif (node.classList.contains('line')) {\n\t\t\t\t\t\tlet id = this._getId(node.className);\n\t\t\t\t\t\tif (id) {\n\t\t\t\t\t\t\tlayersTree.visible[id] = visible;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (node.classList.contains('group')) {\n\t\t\t\t\t\tif (!visible && this._isExistVisible(node, layersTree)) {\n\t\t\t\t\t\t\tflag = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tflag = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t_uncheckRadio(node, id, layersTree) {\n\t\t\t\tfor(let i = 0, len = node.children.length; i < len; i++) {\n\t\t\t\t\tlet it = node.children[i],\n\t\t\t\t\t\tpid = this._getId(it.className);\n\t\t\t\t\tif (pid !== id) {\n\t\t\t\t\t\tthis.fire('command', { id: pid, set: false, cmd: 'toggleNode' });\n\t\t\t\t\t\t// layersTree.expanded[pid] = ph.set;\n\t\t\t\t\t\tlayersTree.visible[pid] = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t_iterateNodeChilds(node, visible, layersTree) {\n\t\t\t\tlet id = this._getId(node.className),\n\t\t\t\t\tisGroup = node.classList.contains('group'),\n\t\t\t\t\tul = node.getElementsByTagName('ul')[0];\n\n\t\t\t\tlayersTree.visible[id] = visible;\n\t\t\t\tif (isGroup) {\n\t\t\t\t\tlayersTree.expanded[id] = visible;\n\t\t\t\t} else {\n\t\t\t\t\tthis.fire('command', { id: id, set: visible, cmd: 'toggleNode' });\n\t\t\t\t}\n\t\t\t\tif (ul) {\n\t\t\t\t\tlet isRadio = ul.classList.contains('radio'),\n\t\t\t\t\t\tflag = visible;\n\t\t\t\t\tfor(let i = 0, len = ul.children.length; i < len; i++) {\n\t\t\t\t\t\tlet it = ul.children[i],\n\t\t\t\t\t\t\tpid = this._getId(it.className);\n\t\t\t\t\t\tif (isRadio && i) { flag = false; }\n\t\t\t\t\t\tthis._iterateNodeChilds(it, flag, layersTree);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\ttreeCommands(attr) {\n\t\t\t\tlet {layersTree, rawTree} = this.get(),\n\t\t\t\t\tid = attr.id,\n\t\t\t\t\tisGroup = attr.nodeType === 'group',\n\t\t\t\t\t// expanded = attr.nodeType ? layersTree.expanded : layersTree.visible,\n\t\t\t\t\tisExpanded = !layersTree.expanded[id],\n\t\t\t\t\tisVisible = !layersTree.visible[id],\n\t\t\t\t\toptions = layersTree.options[id] || {},\n\t\t\t\t\tph = {\n\t\t\t\t\t\tcmd: 'toggleNode',\n\t\t\t\t\t\ttype: attr.type,\n\t\t\t\t\t\tnodeType: attr.nodeType,\n\t\t\t\t\t\toriginalEvent: attr.originalEvent\n\t\t\t\t\t};\n\n\t\t\t\t// console.log('treeCommands', attr.cmd, attr.nodeType);\n\n\t\t\t\tif (attr.cmd === 'clickOnExpander') {\n\t\t\t\t\tlayersTree.expanded[id] = !layersTree.expanded[id];\n\t\t\t\t\tthis.set({layersTree: layersTree});\n\t\t\t\t} else if (attr.cmd === 'toggleGroup') {\n\t\t\t\t\tthis._iterateNodeChilds(attr.target, isVisible, layersTree);\n\t\t\t\t\tthis._toggleParents(attr.target, isExpanded, layersTree);\n\n\t\t\t\t\tthis.set({layersTree: layersTree});\n\t\t\t\t} else if (attr.cmd === 'toggleVisibility') {\n\t\t\t\t\tlet node = attr.target,\n\t\t\t\t\t\tisGroup = node.getElementsByClassName('expanderInput')[0],\n\t\t\t\t\t\texpanded = isGroup ? layersTree.expanded : layersTree.visible,\n\t\t\t\t\t\tul = node.parentNode;\n\n\t\t\t\t\tif (expanded[id]) {\n\t\t\t\t\t\tdelete expanded[id];\n\t\t\t\t\t} else {\n\t\t\t\t\t\texpanded[id] = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (ul && ul.classList.contains('radio')) {\n\t\t\t\t\t\tthis._uncheckRadio(ul, id, layersTree);\n\t\t\t\t\t}\n\t\t\t\t\tthis._toggleParents(attr.target, expanded[id], layersTree);\n\t\t\t\t\tthis.set({layersTree: layersTree});\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tappendNode(id) {\n\t\t\t\tthis.options.appendNode(id);\n\t\t\t}\n\t\t},\n\t\tcomponents: {\n\t\t\tLineNode\n\t\t}\n\t}\n\n</script>\n","'use strict';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar EventTarget = function () {\n    function EventTarget() {\n        classCallCheck(this, EventTarget);\n\n        this.listeners = {};\n    }\n\n    createClass(EventTarget, [{\n        key: 'addEventListener',\n        value: function addEventListener(type, callback) {\n            if (!(type in this.listeners)) {\n                this.listeners[type] = [];\n            }\n            this.listeners[type].push(callback);\n        }\n    }, {\n        key: 'on',\n        value: function on(type, callback) {\n            this.addEventListener(type, callback);\n            return this;\n        }\n    }, {\n        key: 'removeEventListener',\n        value: function removeEventListener(type, callback) {\n            if (!(type in this.listeners)) {\n                return;\n            }\n            var stack = this.listeners[type];\n            for (var i = 0, l = stack.length; i < l; i++) {\n                if (stack[i] === callback) {\n                    stack.splice(i, 1);\n                    return this.removeEventListener(type, callback);\n                }\n            }\n        }\n    }, {\n        key: 'off',\n        value: function off(type, callback) {\n            this.removeEventListener(type, callback);\n            return this;\n        }\n    }, {\n        key: 'dispatchEvent',\n        value: function dispatchEvent(event) {\n            if (!(event.type in this.listeners)) {\n                return;\n            }\n            var stack = this.listeners[event.type];\n            Object.defineProperty(event, 'target', {\n                enumerable: false,\n                configurable: false,\n                writable: false,\n                value: this\n            });\n            for (var i = 0, l = stack.length; i < l; i++) {\n                stack[i].call(this, event);\n            }\n        }\n    }]);\n    return EventTarget;\n}();\n\nclass Sidebar extends EventTarget {\n    constructor(container, { position = 'left' } = {}) {\n        super();\n        this._container = container;\n        this._container.innerHTML = `<div class=\"scanex-sidebar\">\n            <div class=\"${position === 'left' ? 'tabs' : 'panes'}\"></div>\n            <div class=\"${position === 'left' ? 'panes' : 'tabs'}\"></div>\n        </div>`;\n\n        this._tabContainer = this._container.querySelector('.tabs');\n        this._paneContainer = this._container.querySelector('.panes');\n\n        this._current = null;\n        this._data = {};\n    }\n    enable(id) {\n        if (this._data[id]) {\n            this._data[id].enabled = true;\n        }\n    }\n    enabled(id) {\n        const { enabled } = id && this._data[id] ? this._data[id] : { enabled: false };\n        return enabled;\n    }\n    disable(id) {\n        if (this._data[id]) {\n            if (id === this.current) {\n                this.current = null;\n            }\n            this._data[id].enabled = false;\n        }\n    }\n    get current() {\n        return this._current;\n    }\n    set current(current) {\n        const tabs = this._tabContainer.children;\n        const panes = this._paneContainer.children;\n        let success = false;\n\n        for (let i = 0; i < tabs.length; ++i) {\n            const id = tabs[i].getAttribute('data-tab-id');\n            const { opened, closed, enabled } = this._data[id];\n            let tab = tabs[i].querySelector('i');\n            let pane = panes[i];\n            if (id === current) {\n                tab.classList.remove(closed);\n                tab.classList.add(opened);\n\n                pane.classList.remove('hidden');\n                pane.classList.add('shown');\n\n                success = true;\n            } else {\n                tab.classList.remove(opened);\n                tab.classList.add(closed);\n\n                pane.classList.remove('shown');\n                pane.classList.add('hidden');\n            }\n        }\n        this._current = success ? current : null;\n        let event = document.createEvent('Event');\n        event.detail = { current: this._current };\n        event.initEvent('change', false, false);\n        this.dispatchEvent(event);\n    }\n    addTab({ id, icon, opened, closed, tooltip, enabled = true }) {\n        let tab = document.createElement('div');\n        let ic = document.createElement('i');\n        icon.split(/\\s+/g).forEach(x => ic.classList.add(x));\n        ic.classList.add(id === this._current ? opened : closed);\n        tab.appendChild(ic);\n        tab.setAttribute('data-tab-id', id);\n        if (tooltip) {\n            tab.setAttribute('title', tooltip);\n        }\n        tab.addEventListener('click', this._toggle.bind(this, id));\n        this._tabContainer.appendChild(tab);\n\n        let pane = document.createElement('div');\n        pane.setAttribute('data-pane-id', id);\n        pane.classList.add(this.visible && this.current === id ? 'shown' : 'hidden');\n        this._paneContainer.appendChild(pane);\n\n        this._data[id] = { icon, opened, closed, enabled };\n\n        return pane;\n    }\n    removeTab(id) {\n        const tab = this._tabContainer.querySelector(`[data-tab-id=${id}]`);\n        tab.removeEventListener('click', this._toggle.bind(this, id));\n        this._tabContainer.removeChild(tab);\n\n        const pane = this._paneContainer.querySelector(`[data-pane-id=${id}]`);\n        this._paneContainer.removeChild(pane);\n\n        for (let i = 0; i < this._data.length; ++i) {\n            if (this._data[i].id === id) {\n                this._data.splice(i, 1);\n                break;\n            }\n        }\n    }\n    _toggle(current) {\n        if (this.enabled(current)) {\n            this.current = this.current === current ? null : current;\n        }\n    }\n    getPane(id) {\n        return this._paneContainer.querySelector(`[data-pane-id=${id}]`);\n    }\n}\n\nlet SidebarControl = L.Control.extend({\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\n\n    initialize: function (options) {\n        L.setOptions(this, options);\n    },\n\n    enable: function (id) {\n        this._sidebar.enable(id);\n    },\n\n    enabled: function (id) {\n        return this._sidebar.enabled(id);\n    },\n\n    disable: function (id) {\n        this._sidebar.disable(id);\n    },\n\n    getCurrent: function () {\n        return this._sidebar.current;\n    },\n\n    setCurrent: function (current) {\n        this._sidebar.current = current;\n    },\n\n    addTab: function ({ id, icon, opened, closed, tooltip, enabled }) {\n        return this._sidebar.addTab({ id, icon, opened, closed, tooltip, enabled });\n    },\n\n    removeTab: function (id) {\n        this._sidebar.removeTab(id);\n    },\n\n    getPane: function (id) {\n        return this._sidebar.getPane(id);\n    },\n\n    onAdd: function (map) {\n        this._container = L.DomUtil.create('div');\n        const stop = L.DomEvent.stopPropagation;\n        const fakeStop = L.DomEvent._fakeStop || stop;\n        L.DomEvent.on(this._container, 'contextmenu', stop).on(this._container, 'click', fakeStop).on(this._container, 'mousedown', stop).on(this._container, 'touchstart', stop).on(this._container, 'dblclick', fakeStop).on(this._container, 'mousewheel', stop).on(this._container, 'MozMousePixelScroll', stop);\n        const { position } = this.options;\n        this._sidebar = new Sidebar(this._container, { position: position === 'topleft' || position === 'bottomleft' ? 'left' : 'right' });\n        this._sidebar.addEventListener('change', e => {\n            this.fire('change', e);\n        });\n        return this._container;\n    },\n\n    addTo: function (map) {\n        L.Control.prototype.addTo.call(this, map);\n        if (this.options.addBefore) {\n            this.addBefore(this.options.addBefore);\n        }\n        return this;\n    },\n\n    addBefore: function (id) {\n        let parentNode = this._parent && this._parent._container;\n        if (!parentNode) {\n            parentNode = this._map && this._map._controlCorners[this.getPosition()];\n        }\n        if (!parentNode) {\n            this.options.addBefore = id;\n        } else {\n            for (let i = 0, len = parentNode.childNodes.length; i < len; i++) {\n                let it = parentNode.childNodes[i];\n                if (id === it._id) {\n                    parentNode.insertBefore(this._container, it);\n                    break;\n                }\n            }\n        }\n        return this;\n    }\n});\n\nmodule.exports = SidebarControl;\n","/*eslint-env commonjs, browser */\n(function(factory) {\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = factory(require('leaflet'));\n    } else {\n        window.L.control.iconLayers = factory(window.L);\n        window.L.Control.IconLayers = window.L.control.iconLayers.Constructor;\n    }\n})(function(L) {\n    function each(o, cb) {\n        for (var p in o) {\n            if (o.hasOwnProperty(p)) {\n                cb(o[p], p, o);\n            }\n        }\n    }\n\n    function find(ar, cb) {\n        if (ar.length) {\n            for (var i = 0; i < ar.length; i++) {\n                if (cb(ar[i])) {\n                    return ar[i];\n                }\n            }\n        } else {\n            for (var p in ar) {\n                if (ar.hasOwnProperty(p) && cb(ar[p])) {\n                    return ar[p];\n                }\n            }\n        }\n    }\n\n    function first(o) {\n        for (var p in o) {\n            if (o.hasOwnProperty(p)) {\n                return o[p];\n            }\n        }\n    }\n\n    function length(o) {\n        var length = 0;\n        for (var p in o) {\n            if (o.hasOwnProperty(p)) {\n                length++;\n            }\n        }\n        return length;\n    }\n\n    function prepend(parent, el) {\n        if (parent.children.length) {\n            parent.insertBefore(el, parent.children[0]);\n        } else {\n            parent.appendChild(el);\n        }\n    }\n\n    var IconLayers = L.Control.extend({\n\n        includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\n        _getActiveLayer: function() {\n            if (this._activeLayerId) {\n                return this._layers[this._activeLayerId];\n            } else if (length(this._layers)) {\n                return first(this._layers);\n            } else {\n                return null;\n            }\n        },\n        _getPreviousLayer: function() {\n            var activeLayer = this._getActiveLayer();\n            if (!activeLayer) {\n                return null;\n            } else if (this._previousLayerId) {\n                return this._layers[this._previousLayerId];\n            } else {\n                return find(this._layers, function(l) {\n                    return l.id !== activeLayer.id;\n                }.bind(this)) || null;\n            }\n        },\n        _getInactiveLayers: function() {\n            var ar = [];\n            var activeLayerId = this._getActiveLayer() ? this._getActiveLayer().id : null;\n            var previousLayerId = this._getPreviousLayer() ? this._getPreviousLayer().id : null;\n            each(this._layers, function(l) {\n                if ((l.id !== activeLayerId) && (l.id !== previousLayerId)) {\n                    ar.push(l);\n                }\n            });\n            return ar;\n        },\n        _arrangeLayers: function() {\n            var behaviors = {};\n            behaviors.previous = function() {\n                var layers = this._getInactiveLayers();\n                if (this._getActiveLayer()) {\n                    layers.unshift(this._getActiveLayer());\n                }\n                if (this._getPreviousLayer()) {\n                    layers.unshift(this._getPreviousLayer());\n                }\n                return layers;\n            };\n            return behaviors[this.options.behavior].apply(this, arguments);\n        },\n        _getLayerCellByLayerId: function(id) {\n            var els = this._container.getElementsByClassName('leaflet-iconLayers-layerCell');\n            for (var i = 0; i < els.length; i++) {\n                if (els[i].getAttribute('data-layerid') == id) {\n                    return els[i];\n                }\n            }\n        },\n        _createLayerElement: function(layerObj) {\n            var el = L.DomUtil.create('div', 'leaflet-iconLayers-layer');\n            if (layerObj.title) {\n                var titleContainerEl = L.DomUtil.create('div', 'leaflet-iconLayers-layerTitleContainer');\n                var titleEl = L.DomUtil.create('div', 'leaflet-iconLayers-layerTitle');\n                var checkIconEl = L.DomUtil.create('div', 'leaflet-iconLayers-layerCheckIcon');\n                titleEl.innerHTML = layerObj.title;\n                titleContainerEl.appendChild(titleEl);\n                el.appendChild(titleContainerEl);\n                el.appendChild(checkIconEl);\n            }\n            if (layerObj.icon) {\n                el.setAttribute('style', 'background-image: url(\\'' + layerObj.icon + '\\')');\n            }\n            return el;\n        },\n        _createLayerElements: function() {\n            var currentRow, layerCell;\n            var layers = this._arrangeLayers();\n            var activeLayerId = this._getActiveLayer() && this._getActiveLayer().id;\n\n            for (var i = 0; i < layers.length; i++) {\n                if (i % this.options.maxLayersInRow === 0) {\n                    currentRow = L.DomUtil.create('div', 'leaflet-iconLayers-layersRow');\n                    if (this.options.position.indexOf('bottom') === -1) {\n                        this._container.appendChild(currentRow);\n                    } else {\n                        prepend(this._container, currentRow);\n                    }\n                }\n                layerCell = L.DomUtil.create('div', 'leaflet-iconLayers-layerCell');\n                layerCell.setAttribute('data-layerid', layers[i].id);\n                if (i !== 0) {\n                    L.DomUtil.addClass(layerCell, 'leaflet-iconLayers-layerCell_hidden');\n                }\n                if (layers[i].id === activeLayerId) {\n                    L.DomUtil.addClass(layerCell, 'leaflet-iconLayers-layerCell_active');\n                }\n                if (this._expandDirection === 'left') {\n                    L.DomUtil.addClass(layerCell, 'leaflet-iconLayers-layerCell_expandLeft');\n                } else {\n                    L.DomUtil.addClass(layerCell, 'leaflet-iconLayers-layerCell_expandRight');\n                }\n                layerCell.appendChild(this._createLayerElement(layers[i]));\n\n                if (this.options.position.indexOf('right') === -1) {\n                    currentRow.appendChild(layerCell);\n                } else {\n                    prepend(currentRow, layerCell);\n                }\n            }\n        },\n        _onLayerClick: function(e) {\n            e.stopPropagation();\n            var layerId = e.currentTarget.getAttribute('data-layerid');\n            var layer = this._layers[layerId];\n            this.setActiveLayer(layer.layer);\n            this.expand();\n        },\n        _attachEvents: function() {\n            each(this._layers, function(l) {\n                var e = this._getLayerCellByLayerId(l.id);\n                if (e) {\n                    e.addEventListener('click', this._onLayerClick.bind(this));\n                }\n            }.bind(this));\n            var layersRowCollection = this._container.getElementsByClassName('leaflet-iconLayers-layersRow');\n\n            var onMouseEnter = function(e) {\n                e.stopPropagation();\n                this.expand();\n            }.bind(this);\n\n            var onMouseLeave = function(e) {\n                e.stopPropagation();\n                this.collapse();\n            }.bind(this);\n\n            var stopPropagation = function(e) {\n                e.stopPropagation();\n            };\n\n            //TODO Don't make functions within a loop.\n            for (var i = 0; i < layersRowCollection.length; i++) {\n                var el = layersRowCollection[i];\n                el.addEventListener('mouseenter', onMouseEnter);\n                el.addEventListener('mouseleave', onMouseLeave);\n                el.addEventListener('mousemove', stopPropagation);\n            }\n        },\n        _render: function() {\n            this._container.innerHTML = '';\n            this._createLayerElements();\n            this._attachEvents();\n        },\n        _switchMapLayers: function() {\n            if (!this._map) {\n                return;\n            }\n            var activeLayer = this._getActiveLayer();\n            var previousLayer = this._getPreviousLayer();\n            if (previousLayer) {\n                this._map.removeLayer(previousLayer.layer);\n            } else {\n                each(this._layers, function(layerObject) {\n                    var layer = layerObject.layer;\n                    this._map.removeLayer(layer);\n                }.bind(this));\n            }\n            if (activeLayer) {\n                this._map.addLayer(activeLayer.layer);\n            }\n        },\n        options: {\n            position: 'bottomleft', // one of expanding directions depends on this\n            behavior: 'previous', // may be 'previous', 'expanded' or 'first'\n            expand: 'horizontal', // or 'vertical'\n            autoZIndex: true, // from L.Control.Layers\n            maxLayersInRow: 5,\n            manageLayers: true\n        },\n        initialize: function(layers, options) {\n            if (!L.Util.isArray(arguments[0])) {\n                // first argument is options\n                options = layers;\n                layers = [];\n            }\n            L.setOptions(this, options);\n            this._expandDirection = (this.options.position.indexOf('left') != -1) ? 'right' : 'left';\n            if (this.options.manageLayers) {\n                this.on('activelayerchange', this._switchMapLayers, this);\n            }\n            this.setLayers(layers);\n        },\n        onAdd: function(map) {\n            this._container = L.DomUtil.create('div', 'leaflet-iconLayers');\n            L.DomUtil.addClass(this._container, 'leaflet-iconLayers_' + this.options.position);\n            this._render();\n            map.on('click', this.collapse, this);\n            if (this.options.manageLayers) {\n                this._switchMapLayers();\n            }\n            return this._container;\n        },\n        onRemove: function(map) {\n            map.off('click', this.collapse, this);\n        },\n        setLayers: function(layers) {\n            this._layers = {};\n            layers.map(function(layer) {\n                var id = L.stamp(layer.layer);\n                this._layers[id] = L.extend(layer, {\n                    id: id\n                });\n            }.bind(this));\n            if (this._container) {\n                this._render();\n            }\n        },\n        setActiveLayer: function(layer) {\n            var l = layer && this._layers[L.stamp(layer)];\n            if (!l || l.id === this._activeLayerId) {\n                return;\n            }\n            this._previousLayerId = this._activeLayerId;\n            this._activeLayerId = l.id;\n            if (this._container) {\n                this._render();\n            }\n            this.fire('activelayerchange', {\n                layer: layer\n            });\n        },\n        expand: function() {\n            this._arrangeLayers().slice(1).map(function(l) {\n                var el = this._getLayerCellByLayerId(l.id);\n                L.DomUtil.removeClass(el, 'leaflet-iconLayers-layerCell_hidden');\n            }.bind(this));\n        },\n        collapse: function() {\n            this._arrangeLayers().slice(1).map(function(l) {\n                var el = this._getLayerCellByLayerId(l.id);\n                L.DomUtil.addClass(el, 'leaflet-iconLayers-layerCell_hidden');\n            }.bind(this));\n        }\n    });\n\n    var iconLayers = function(layers, options) {\n        return new IconLayers(layers, options);\n    };\n\n    iconLayers.Constructor = IconLayers;\n\n    return iconLayers;\n});","<div id=\"map\"></div>\n\n<style>\n:global(.leaflet-gmx-loaderStatus.leaflet-control) {\n    top: -123px;\n    right: 5px;\n    left: unset;\n}\n:global(.gmxControlPopup table.vectorInfoParams td:first-child) {\n    border-right: 1px solid #dddddd;\n    border-bottom: 1px solid #dddddd;\n    padding: 10px;\n}\n\n:global(.gmxControlPopup table.vectorInfoParams td) {\n    border-right: 1px solid #dddddd;\n    border-bottom: 1px solid #dddddd;\n    padding: 10px;\n}\n\n:global(.gmxControlPopup table.vectorInfoParams td:last-child) {\n    border-right: 0px solid #dddddd;\n    border-bottom: 1px solid #dddddd;\n    padding: 10px;\n}\n:global(.gmxControlPopup table.vectorInfoParams td.key) {\n    font-weight: bold;\n\twidth: 160px;\n}\n\n:global(.gmxControlPopup table.vectorInfoParams tr:last-child) {\n    \n    margin-bottom: -2px;\n}\n\n:global(.dark .gmxControlPopup) {\n\tmargin: 13px 19px;\n    line-height: 1.4;\n}\n:global(.wwf-slider-container.leaflet-control) {\n    margin-right: 48px;\n    margin-bottom: 11px;\n}\n\n:global(.gmxControlPopup.leaflet-control) {\n    min-width: 423px;\n    background: #FFFFFF;\n    border: 1px solid #D8E1E8;\n    box-sizing: border-box;\n    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.11);\n    border-radius: 4px;\n    font-family: 'IBM Plex Sans', sans-serif;\n    -webkit-font-smoothing: antialiased;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    word-break: break-word;\n}\n\n:global(.gmxControlPopup div.content-wrapper) {\n    margin: 0;\n    margin-top: 40px;\n    padding: 0;\n    text-align: left;\n    cursor: default;\n}\n\n:global(.gmxControlPopup div.content-wrapper div.content) {\n\tmargin-top: 0px;\n}\n\n:global(.gmxControlPopup div.content-wrapper div.content table) {\n\tmargin-top: -12px;\n}\n\n:global(.gmxControlPopup .title) {\n\tdisplay: flex;\n    justify-content: flex-start;\n    align-items: center;\n    position: absolute;\n    padding-left: 12px;\n    top: 0;\n    width: 100%;\n    pointer-events: none;\n    height: 30px;\n    background: #F3F7FA;\n    font-style: normal;\n    font-weight: 500;\n    font-size: 13px;\n    line-height: normal;\n    color: #394B59;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n/*\n:global(.table_pop) {\n    display: block;\n    width: 100%;\n    height: 30px;\n    background: #F3F7FA;\n    border-bottom: 1px solid #dddddd;\n    border-top: 1px solid #dddddd;\n}\n*/\n:global(.gmxControlPopup .closeButton) {\n    position: absolute;\n    font: 16px/14px Tahoma, Verdana, sans-serif;\n    font-weight: normal;\n    color: #333;\n    top: 7px;\n    right: 10px;\n    cursor: pointer;\n    z-index: 1;\n}\n\n</style>\n\n<script>\n\timport TreeView from './TreeView.html';\n\n\timport './global.css';\n\timport './iconLayersDark.css';\n\n\timport SidebarControl from  'scanex-leaflet-sidebar';\n\timport 'scanex-leaflet-sidebar/dist/scanex-leaflet-sidebar.css';\n\n\timport IconLayers from 'leaflet-iconlayers';\n\timport 'leaflet-iconlayers/dist/iconLayers.css';\n\t\n\n\tconst serverBase = window.serverBase || '//maps.kosmosnimki.ru/';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tlayersTree: {\n\t\t\t\t\toptions: {},\n\t\t\t\t\tvisible: {},\n\t\t\t\t\texpanded: {}\n\t\t\t\t},\n\t\t\t\turlParams: null,\n\t\t\t\tpermalink: null,\n\t\t\t\tmap: null\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tcreateMap(it) {\n\t\t\t\tlet {layersTree, urlParams} = this.get();\n\t\t\t\tlet app = it.app || {},\n\t\t\t\t\tgmxMap = app.gmxMap || {},\n\t\t\t\t\tstate = it.state || {},\n\t\t\t\t\t// layersTree = state.layersTree || {},\n\t\t\t\t\tcalendar = state.calendar || {},\n\t\t\t\t\tmapID = gmxMap.mapID || '946GH',\n\t\t\t\t\tapiKey = app.apiKey || gmxMap.apiKey || 'Z2SSNR87N4',\n\t\t\t\t\tstateMap = state.map || {},\n\t\t\t\t\tpos = stateMap.position || {},\n                    minZoom = stateMap.minZoom || 1,\n                    maxZoom = stateMap.maxZoom || 21;\n\n\t\t\t\t// console.log('createMap', it)\n\t\t\t\tif(app.theme) {\n\t\t\t\t\tdocument.body.classList.add(app.theme);\n\t\t\t\t}\n\t\t\t\tif(navigator.platform.match('Mac') !== null) {\n\t\t\t\t\tdocument.body.classList.add('OSX');\n\t\t\t\t}\n\t\t\t\tif(L.leafletMap) {\n\t\t\t\t\tL.leafletMap.remove();\n\t\t\t\t}\n\n\t\t\t\tlayersTree = state.layersTree || layersTree;\n\t\t\t\tlayersTree.options = layersTree.options || {};\n\t\t\t\tthis.layersTree = layersTree;\n\t\t\t\tlet map = new L.Map('map', {\n\t\t\t\t\tsrs: 3857,\n\t\t\t\t\tlayers: [],\n\t\t\t\t\tcenter: new L.LatLng(pos.y || 0, pos.x || 60),\n\t\t\t\t\tzoom: pos.z || 3,\n\t\t\t\t\tminZoom: minZoom,\n\t\t\t\t\tmaxZoom: maxZoom\n\t\t\t\t});\n\t\t\t\tL.leafletMap = map;\n\n\t\t\t\tmap.gmxControlsManager.init({\n\t\t\t\t\tgmxDrawing: !app.drawing || app.drawing === 'false' ? null : {position: 'right'},\n\t\t\t\t\tgmxZoom: {position: 'gmxbottomright'},\n\t\t\t\t\tgmxLoaderStatus: {position: 'gmxbottomright'},\n\t\t\t\t\tgmxHide: null\n\t\t\t\t});\n\t\t\t\tmap.gmxControlsManager.setSvgSprites('//www.kosmosnimki.ru/lib/geomixer_1.3/img/svg-symbols.svg');\n\n\t\t\t\tif (app.iconSidebar && app.iconSidebar !== 'false') {\n\t\t\t\t\tvar iconSidebar = new SidebarControl({position: 'topleft', className: 'sidebarControl'});\n\t\t\t\t\ticonSidebar.addTo(map);\n\t\t\t\t\ticonSidebar.getContainer().classList.add('sidebarControl');\n\n\t\t\t\t\tthis.iconSidebar = iconSidebar;\n\t\t\t\t\tif (app.treeView && app.treeView !== 'false') {\n\t\t\t\t\t\tvar treePane = iconSidebar.addTab({id: 'treeView', icon: 'icon-layers', opened: 'opened', closed: 'closed'});\n\t\t\t\t\t\t// var treeMini = iconSidebar.addTab({id: 'aura', icon: 'icon-layers', opened: 'opened', closed: 'closed'});\n\t\t\t\t\t\tthis.treePane = treePane;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tdocument.body.classList.add('noIconSidebar');\n\t\t\t\t}\n\n\t\t\t\tthis.mapID = mapID;\n\t\t\t\tlet opt = {\n\t\t\t\t\tleafletMap: map,\n\t\t\t\t\tapiKey: apiKey,\n\t\t\t\t\t// visibleItemOnly: true,\t// TODO:    (  )   \n\t\t\t\t\tsetZIndex: true\n\t\t\t\t\t// ,\n\t\t\t\t\t// visibility: layersTree.visible || {}\n\t\t\t\t};\n\t\t\t\tL.gmx.loadMap(mapID, opt).then(function(gmxMap) {\n\t\t\t\t\tthis.gmxMap = gmxMap;\n\t\t\t\t\tlet dateInterval = state.calendar || {},\n\t\t\t\t\t\ttb = dateInterval.dateBegin,\n\t\t\t\t\t\tte = dateInterval.dateEnd;\n\t\t\t\t\tif(!tb) {\n\t\t\t\t\t\tlet day = 1000*60*60*24,\n\t\t\t\t\t\t\tcd = new Date();\n\t\t\t\t\t\ttb = Date.UTC(cd.getUTCFullYear(), cd.getUTCMonth(), cd.getUTCDate());\n\t\t\t\t\t\tte = tb + day;\n\t\t\t\t\t}\n\t\t\t\t\tlet db = new Date(tb), de = new Date(te);\n\t\t\t\t\tgmxMap.layers.forEach((it) => {\n\t\t\t\t\t\tif(it.getGmxProperties) {\n\t\t\t\t\t\t\tlet props = it.getGmxProperties(),\n\t\t\t\t\t\t\t\tid = props.name;\n\t\t\t\t\t\t\tif(it.setDateInterval) {\n\t\t\t\t\t\t\t\tit.setDateInterval(db, de);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(id in layersTree.visible) {\n\t\t\t\t\t\t\t\tmap[layersTree.visible[id] ? 'addLayer' : 'removeLayer'](it);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tL.gmx.gmxMapManager.iterateNode(gmxMap.rawTree, function(node, prnt) {\n\t\t\t\t\t\tlet props = node.content.properties,\n\t\t\t\t\t\t\tid = props.name || props.GroupID;\n\t\t\t\t\t\tif (props.GroupID) {\n\t\t\t\t\t\t\tif (props.expanded && !(id in layersTree.expanded)) {\n\t\t\t\t\t\t\t\tlayersTree.expanded[id] = props.expanded;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (props.visible && !(id in layersTree.visible)) {\n\t\t\t\t\t\t\t\tlayersTree.visible[id] = props.visible;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (props.visible && !(id in layersTree.visible)) {\n\t\t\t\t\t\t\t\tlayersTree.visible[id] = props.visible;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet prntProps = prnt.properties;\n\t\t\t\t\t\t\tif (prntProps.GroupID && prntProps.list) {\n\t\t\t\t\t\t\t\tlet opt = layersTree.options[id] || {};\n\t\t\t\t\t\t\t\topt.list = prntProps.list;\n\t\t\t\t\t\t\t\tlayersTree.options[id]  = opt;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, {nodes: gmxMap.nodes});\n\n\t\t\t\t\t// this.set({layersTree: layersTree}); \n\t\t\t\t\t// this.set({gmxMap: gmxMap}); \n\t\t\t\t\tlet shiftIconLayers = false,\n\t\t\t\t\t\tgmxTimelineContainer = null,\n\t\t\t\t\t\trepaintTimeline = null;\n\n\t\t\t\t\tif (app.gmxTimeline && app.gmxTimeline !== 'false') {\n\t\t\t\t\t\t/* TimeLine */\n\t\t\t\t\t\twindow.nsGmx.gmxTimeLine.afterViewer({gmxMap: gmxMap}, map);\n\t\t\t\t\t\tvar control = L.control.gmxTimeline({\n\t\t\t\t\t\t\tlocale: 'ru',\n\t\t\t\t\t\t\tmoveable: true\n\t\t\t\t\t\t\t}).on('dateInterval', function (ev) {\n\t\t\t\t\t\t\t\tgmxMap.layersByID[ev.layerID].setDateInterval(ev.beginDate, ev.endDate);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('statechanged', function () {\n\t\t\t\t\t\t\t\trepaintTimeline();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.on('click', function (ev) {\n\t\t\t\t\t\t\t\tgmxMap.layersByID[ev.layerID].repaint();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.gmxTimeline = control;\n\t\t\t\t\t\trepaintTimeline = () => {\n\t\t\t\t\t\t\tif (control._container) {\n\t\t\t\t\t\t\t\tcontrol._container.classList[shiftIconLayers ? 'add' : 'remove']('shiftTimeline');\n\t\t\t\t\t\t\t\tcontrol._redrawTimeline();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmap\n\t\t\t\t\t\t\t.on('layerremove', function (ev) {\n\t\t\t\t\t\t\t\tlet layer = ev.layer,\n\t\t\t\t\t\t\t\t\tprops = layer && layer.getGmxProperties && layer.getGmxProperties();\n\t\t\t\t\t\t\t\tif (props && props.name) {\n\t\t\t\t\t\t\t\t\tlayersTree.visible[props.name] = false;\n\t\t\t\t\t\t\t\t\tif (this._treeView) {\n\t\t\t\t\t\t\t\t\t\tthis._treeView.set({layersTree: layersTree}); \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this)\n\t\t\t\t\t\t\t.on('layeradd', function (ev) {\n\t\t\t\t\t\t\t\tlet layer = ev.layer,\n\t\t\t\t\t\t\t\t\tprops = layer && layer.getGmxProperties && layer.getGmxProperties();\n\t\t\t\t\t\t\t\tif (props && props.name) {\n\t\t\t\t\t\t\t\t\tlayersTree.visible[props.name] = true;\n\t\t\t\t\t\t\t\t\tif (this._treeView) {\n\t\t\t\t\t\t\t\t\t\tthis._treeView.set({layersTree: layersTree}); \n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.iconSidebar) {\n\t\t\t\t\t\tlet triggerSidebar = (id) => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (id === 'treeView') {\n\t\t\t\t\t\t\t\tshiftIconLayers = true;\n\t\t\t\t\t\t\t\tif (treePane) {\n\t\t\t\t\t\t\t\t\tthis._initTree({container: treePane, layersTree: layersTree, rawTree: gmxMap.rawTree, gmxTimeline: this.gmxTimeline});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshiftIconLayers = false;\n\t\t\t\t\t\t\t\tif (treePane) {\n\t\t\t\t\t\t\t\t\ttreePane.innerHTML = '';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (this.IconLayersContainer) {\n\t\t\t\t\t\t\t\tthis.IconLayersContainer.classList[shiftIconLayers ? 'add' : 'remove']('shiftIconLayers');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (repaintTimeline) {\n\t\t\t\t\t\t\t\trepaintTimeline();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tthis.iconSidebar.on('change', e => triggerSidebar(e.detail.current));\n\t\t\t\t\t}\n\n\t\t\t\t\tlet bLayersConf = state.baseLayersManager || { activeIDs: gmxMap.properties.BaseLayers };\n\t\t\t\t\tthis._initBaseLayers(map, bLayersConf, app);\n\t\t\t\t}.bind(this))\n\t\t\t\t.catch(console.log);\n\t\t\t\tthis.set({map: map, config: it});\n\t\t\t},\n\t\t\t_initBaseLayers(map, baseLayers, app) {\n\t\t\t\tconst lang = 'rus';\n\t\t\t\tlet blm = map.gmxBaseLayersManager,\n\t\t\t\t\tactiveIDs = baseLayers.activeIDs || ['sputnik'],\n\t\t\t\t\tcurrentID = baseLayers.currentID || activeIDs[0];\n\t\t\t\tblm.initDefaults().then(function() {\n\t\t\t\t\tblm.setActiveIDs(activeIDs);\n\t\t\t\t\tlet layers = blm.getActiveIDs().map(id => {\n\t\t\t\t\t\tvar layer = blm.get(id);\n\t\t\t\t\t\tif (!layer) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tlayer: layer,\n\t\t\t\t\t\t\t\ticon: layer.options.icon,\n\t\t\t\t\t\t\t\ttitle: layer.options[lang]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}).filter(e => e);\n\n\t\t\t\t\tif (app.iconLayers && app.iconLayers !== 'false') {\n\t\t\t\t\t\tlet baseLayersControl = new IconLayers(layers, {id: 'iconLayers'});\n\t\t\t\t\t\tmap.gmxControlsManager.add(baseLayersControl);\n\t\t\t\t\t\tmap.addControl(baseLayersControl);\n\t\t\t\t\t\tbaseLayersControl.setActiveLayer(blm.get(currentID));\n\t\t\t\t\t\tthis.IconLayersContainer = baseLayersControl.getContainer();\n\t\t\t\t\t}\n\t\t\t\t\tblm.setCurrentID(currentID);\n\t\t\t\t\tif (app.treeView === 'opened' && this.iconSidebar) { this.iconSidebar.setCurrent('treeView'); }\n\t\t\t\t}.bind(this));\n\t\t\t},\n\t\t\t_getNodeIndex(target) {\n\t\t\t\tlet arr = target.parentNode.children,\n\t\t\t\t\ti, len;\n\t\t\t\tfor(i = 0, len = arr.length; i < len; i++) {\n\t\t\t\t\tif (arr[i] === target) break;\n\t\t\t\t}\n\t\t\t\treturn i === len ? null : i;\n\t\t\t},\n\n\t\t\t_initTree(it) {\n\t\t\t\tlet rawTree = {\n\t\t\t\t\ttype: 'map',\n\t\t\t\t\tcontent: it.rawTree\n\t\t\t\t};\n\t\t\t\tthis._treeView = new TreeView({\n\t\t\t\t\tappendNode: (id) => {\t// TODO:    (  )   \n\t\t\t\t\t\treturn;\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tif (this.gmxMap.nodes) {\n\t\t\t\t\t\t\tlet {map} = this.get();\n\t\t\t\t\t\t\tlet mapID = this.mapID,\n\t\t\t\t\t\t\t\tlayersTree = this.layersTree,\n\t\t\t\t\t\t\t\tvisible = layersTree.visible || {},\n\t\t\t\t\t\t\t\t// mapItem = L.gmx._maps['maps.kosmosnimki.ru'][mapID],\n\t\t\t\t\t\t\t\tgmxMap = this.gmxMap,\n\t\t\t\t\t\t\t\tlayersByID = gmxMap.layersByID;\n\t\t\t\t\t\t\tL.gmx.gmxMapManager.getMapFolder({\n\t\t\t\t\t\t\t\ttreeConfig: layersTree,\n\t\t\t\t\t\t\t\tmapId: mapID,\n\t\t\t\t\t\t\t\tfolderId: id\n\t\t\t\t\t\t\t}).then(function(json) {\n\t\t\t\t\t\t\t\tL.gmx.gmxMapManager.iterateNode(json.content, function(node) {\n\t\t\t\t\t\t\t\t\tlet props = node.content.properties,\n\t\t\t\t\t\t\t\t\t\tlayerId = props.name;\n\t\t\t\t\t\t\t\t\tif (layerId && layerId in visible && visible[layerId] !== props.visible) {\n\t\t\t\t\t\t\t\t\t\tprops.visible = visible[layerId];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, {nodes: gmxMap.nodes});\n\t\t\t\t\t\t\t\tgmxMap.addLayersToMap(map);\n\t\t\t\t\t\t\t\tthis.treePane.innerHTML = '';\n\t\t\t\t\t\t\t\tthis._initTree({\n\t\t\t\t\t\t\t\t\tcontainer: this.treePane,\n\t\t\t\t\t\t\t\t\tlayersTree: this.layersTree,\n\t\t\t\t\t\t\t\t\trawTree: gmxMap.rawTree\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}.bind(this));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t*/\n\t\t\t\t\t},\n\t\t\t\t\ttarget: it.container,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tcontainer: it.container,\n\t\t\t\t\t\tlayersTree: it.layersTree,\n\t\t\t\t\t\tgmxTimeline: it.gmxTimeline ? true : false,\n\t\t\t\t\t\trawTree: rawTree\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis._treeView.on('command', (ev) => {\n\t\t\t\t\tlet {map} = this.get();\n\t\t\t\t\tlet cmd = ev.cmd,\n\t\t\t\t\t\ttarget = ev.originalEvent ? ev.originalEvent.target : null,\n\t\t\t\t\t\tlayersTree = this.layersTree,\n\t\t\t\t\t\tgmxMap = this.gmxMap,\n\t\t\t\t\t\tnode = gmxMap.nodes ? gmxMap.nodes[ev.id] : true,\n\t\t\t\t\t\tgmxLayer = gmxMap.layersByID[ev.id];\n\n\t\t\t\t\t// console.log('Map command', ev, this.layersTree);\n\t\t\t\t\tif (gmxLayer && !(gmxLayer instanceof L.gmx.DummyLayer)) {\n\t\t\t\t\t\tif (cmd === 'fitBounds') {\n\t\t\t\t\t\t\tif (gmxLayer.getBounds) {\n\t\t\t\t\t\t\t\tlet bounds = gmxLayer.getBounds();\n\t\t\t\t\t\t\t\t\t// zoom = map.getBoundsZoom(bounds),\n\t\t\t\t\t\t\t\t\t// opt = gmxLayer.options;\n\t\t\t\t\t\t\t\t// zoom = zoom < opt.minZoom ? opt.minZoom : (zoom > opt.maxZoom ? opt.maxZoom : zoom);\n\t\t\t\t\t\t\t\t// map.setView(bounds.getCenter(), zoom);\n\n\t\t\t\t\t\t\t\tmap.fitBounds(bounds, {\t// maxZoom  .\n\t\t\t\t\t\t\t\t\tanimation: false,\n\t\t\t\t\t\t\t\t\tmaxZoom: Math.min(Math.max(15, map.getZoom()), map.getBoundsZoom(bounds))\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cmd === 'showInfo') {\n\t\t\t\t\t\t\tlet props = gmxLayer.getGmxProperties(),\n\t\t\t\t\t\t\t\tmeta = props.MetaProperties,\n\t\t\t\t\t\t\t\tgetContent = () => {\n\t\t\t\t\t\t\t\t\tlet str = '<div class=\"title\">' + props.title + '</div>';\n\t\t\t\t\t\t\t\t\tif (meta.desc_long) {\n\t\t\t\t\t\t\t\t\t\treturn str + meta.desc_long.Value;\n\t\t\t\t\t\t\t\t\t} else if (Object.keys(meta).length) {\n\t\t\t\t\t\t\t\t\t\tlet arr = [];\n\t\t\t\t\t\t\t\t\t\tfor(let key in meta) {\n\t\t\t\t\t\t\t\t\t\t\tarr.push('<tr><td class=\"key\"><span>' + key + '</span></td><td><div>' + meta[key].Value + '</div></td></tr>');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn str + '<table class=\"vectorInfoParams\"><tbody>' + arr.join('') + '</tbody></table>';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tdesc = getContent();\n\n\t\t\t\t\t\t\tif (desc) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet gmxPopup = L.control.gmxPopup({content: desc}).openOn(map),\n\t\t\t\t\t\t\t\t\tcont = gmxPopup.getContainer(),\n\t\t\t\t\t\t\t\t\tp = L.DomUtil.getPosition(cont);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tL.DomUtil.setPosition(cont, {x: Math.floor(p.x), y: Math.floor(p.y)});\n\t\t\t\t\t\t\t\t//map.gmxControlsManager.add(L.control.gmxPopup({content: desc}).openOn(map));\n/*\n\t\t\t\t\t\t\t\tlet popup = L.popup(),\n\t\t\t\t\t\t\t\t\tlatlng = map.getCenter(),\n\t\t\t\t\t\t\t\t\tonAdd = () => {\n\t\t\t\t\t\t\t\t\t\tlet ww = 300,\n\t\t\t\t\t\t\t\t\t\t\tmaxChild = null,\n\t\t\t\t\t\t\t\t\t\t\th = L.point(0,0),\n\t\t\t\t\t\t\t\t\t\t\toffset = [0, 0],\n\t\t\t\t\t\t\t\t\t\t\tcontainer = popup._contentNode,\n\t\t\t\t\t\t\t\t\t\t\tarr = container.childNodes;\n\t\t\t\t\t\t\t\t\t\tfor(let i = 0, len = arr.length; i < len; i++) {\n\t\t\t\t\t\t\t\t\t\t\tlet it = arr[i],\n\t\t\t\t\t\t\t\t\t\t\t\tw = it.clientWidth;\n\t\t\t\t\t\t\t\t\t\t\tif (w > ww) {\n\t\t\t\t\t\t\t\t\t\t\t\tmaxChild = it;\n\t\t\t\t\t\t\t\t\t\t\t\tww = w;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif (maxChild) {\n\t\t\t\t\t\t\t\t\t\t\tpopup.options.maxHeight = map.getContainer().clientHeight - 100;\n\t\t\t\t\t\t\t\t\t\t\tpopup.options.maxWidth = maxChild.clientWidth;\n\t\t\t\t\t\t\t\t\t\t\tpopup.options.offset = L.point(maxChild.clientWidth / 2, container.clientHeight / 2);\n\t\t\t\t\t\t\t\t\t\t\tpopup\n\t\t\t\t\t\t\t\t\t\t\t\t.remove()\n\t\t\t\t\t\t\t\t\t\t\t\t.off('add', onAdd, this)\n\t\t\t\t\t\t\t\t\t\t\t\t.openOn(map);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tpopup\n\t\t\t\t\t\t\t\t\t.on('add', onAdd, this)\n\t\t\t\t\t\t\t\t\t.setLatLng(latlng)\n\t\t\t\t\t\t\t\t\t.setContent(desc)\n\t\t\t\t\t\t\t\t\t.openOn(map);\n\t\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cmd === 'toggleNode') {\n\t\t\t\t\t\t\tlet flag = ev.set;\n\t\t\t\t\t\t\tif (flag) {\n\t\t\t\t\t\t\t\tif (!gmxLayer._map) {\n\t\t\t\t\t\t\t\t\tmap.addLayer(gmxLayer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (gmxLayer._map) {\n\t\t\t\t\t\t\t\t\tmap.removeLayer(gmxLayer);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cmd === 'toggleVisibility') {\n\t\t\t\t\t\t\tif (gmxLayer._map) {\n\t\t\t\t\t\t\t\tmap.removeLayer(gmxLayer);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmap.addLayer(gmxLayer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cmd === 'toggleTimeline' && this.gmxTimeline) {\n\t\t\t\t\t\t\tif (target.classList.contains('enabled')) {\n\t\t\t\t\t\t\t\tif (!this.gmxTimeline._map) {\n\t\t\t\t\t\t\t\t\tmap.addControl(this.gmxTimeline);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.gmxTimeline.addLayer(gmxLayer);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.gmxTimeline.removeLayer(gmxLayer);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (cmd === 'toggleStyle') {\n\t\t\t\t\t\t\tlet num = this._getNodeIndex(target.parentNode),\n\t\t\t\t\t\t\t\tstyles = gmxLayer.getStyles();\n\t\t\t\t\t\t\tif (target.classList.contains('enabled')) {\n\t\t\t\t\t\t\t\ttarget.classList.remove('enabled');\n\t\t\t\t\t\t\t\tstyles[num].disabled = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.classList.add('enabled');\n\t\t\t\t\t\t\t\tdelete styles[num].disabled;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tgmxLayer.setStyles(styles);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (cmd === 'toggleVisibility' && !node) {\n\t\t\t\t\t\t\tthis._treeView.appendNode(ev.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t\n\t\tonstate({ changed, current, previous }) {\n\t\t\tif (changed.permalink && current.permalink) {\n\t\t\t\tthis.createMap(current.permalink);\n\t\t\t}\n\t\t}\n\t}\n</script>\n","<div class=\"share\">\n\t<div class=\"arrow\"></div>\n\t{#if title}<h3 class=\"popover-title\">{title}</h3>{/if}\n\t<div class=\"popover-content\">\n\t\t<div class=\"shareDialogContainer\">\n\t\t\t<div class=\"shareDialog\">\n\t\t\t\t<div class=\"shareDialog-row shareDialog-title\">\n\t\t\t\t\t<span class=\"bold\">  :</span>\n\t\t\t\t\t<a class=\"gmx-link_icon\" target=\"_blank\" href=\"//www.twitter.com/share?url={link}\"><i class=\"icon-twitter\"></i></a>\n\t\t\t\t\t<a class=\"gmx-link_icon\" target=\"_blank\" href=\"https://www.facebook.com/sharer/sharer.php?u={link}\"><i class=\"icon-facebook\"></i></a>\n\t\t\t\t\t<a class=\"gmx-link_icon\" target=\"_blank\" href=\"//vkontakte.ru/share.php?url{link}\"><i class=\"icon-vk\"></i></a>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"shareDialog-row\">\n\t\t\t\t\t<div class=\"gmx-table\">\n\t\t\t\t\t\t<input class=\"shareDialog-inputPermalinkUrl\" type=\"text\" readonly=\"readonly\" value=\"{link}\">\n\t\t\t\t\t\t<a class=\"gmx-link_icon\" target=\"_blank\" href=\"{link}\"><i class=\"icon-link-ext\" title=\"   \"></i></a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"shareDialog-row bold\">  :</div>\n\t\t\t\t<div class=\"shareDialog-row\">\n\t\t\t\t\t<div class=\"gmx-table shareDialog-resolutionTable\">\n\t\t\t\t\t\t\t<input class=\"\" type=\"number\" value=\"{frameWidth}\" on:change=\"set({frameWidth: this.value})\">\n\t\t\t\t\t\t\t<span class=\"shareDialog-resolutionCross\">x</span>\n\t\t\t\t\t\t\t<input class=\"\" type=\"number\" value=\"{frameHeight}\" on:change=\"set({frameHeight: this.value})\">\n\t\t\t\t\t\t<span class=\"shareDialog-validationError hidden\">\n\t\t\t\t\t\t\t<span></span><i class=\"icon-link-ext\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class=\"shareDialog-previewLinkCell constrLink shareDialog-validationOk\">\n\t\t\t\t\t\t\t<a class=\"shareDialog-previewLink gmx-link\" href=\"{link}&edit=1\" target=\"_blank\"> </a><i class=\"gmx-icon icon-link-ext\"></i>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"shareDialog-row\">\n\t\t\t\t\t<textarea class=\"shareDialog-validationOk\" readonly=\"readonly\">&lt;iframe src=\"{link}\" width=\"{frameWidth}\" height=\"{frameHeight}\"&gt;&lt;/iframe&gt;</textarea>\n\t\t\t\t\t<div class=\"shareDialog-validationErrorView hidden\"><div class=\"alertWidget ui-widget\"></div></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"shareDialog-row\">\n\t\t\t\t\t<span class=\"shareDialog-previewLinkCell shareDialog-validationOk\">\n\t\t\t\t\t\t<a class=\"shareDialog-previewLink gmx-link\" href=\"//winnie.kosmosnimki.ru/2.0/iframePreview.html?width={frameWidth}&amp;height={frameHeight}&amp;url={link}\" target=\"_blank\"></a><i class=\"gmx-icon icon-link-ext\"></i>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n \n<script>\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tframeWidth: 800,\n\t\t\t\tframeHeight: 600,\n\t\t\t\tconf: 'R6UIY',\n\t\t\t\ttitle: ''\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tlink: ({ conf }) => '//winnie.kosmosnimki.ru/2.0/?config=' + conf,\n\t\t}\n\t}\n</script>\n\n<style>\n.share {\n    background-color: white;\n\tmargin-top: 6px;\n\tposition: absolute;\n\tz-index: 80;\n    left: 30px;\n    top: 40px;\n}\n.share {\n    padding: 1px;\n\tpadding-top: 0px;\n    font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    font-weight: normal;\n    text-align: left;\n    border: 1px solid rgba(0, 0, 0, 0.2);\n    border-radius: 4px;\n    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n    white-space: normal;\n    font-size: 11px;\n}\n.shareDialog-row {\n    padding-bottom: 8px;\n}\n.bold {\n    font-weight: bold;\n}\n.shareDialog-resolutionTable input {\n    width: 40px;\n\ttext-align: center;\n}\ntextarea.shareDialog-validationOk {\n    width: 96%;\n\theight: 66px;\n}\n\n.hidden {\n\tdisplay: none;\n}\n.shareDialog-previewLinkCell {\n    width: 50%;\n    text-align: right;\n\tfloat: right;\n}\n.constrLink {\n\tfloat: unset;\n    padding-left: 14px;\n}\n.shareDialog-previewLinkCell a {\n    color: #121212;\n}\n.shareDialog-inputPermalinkUrl {\n    width: 260px;\n}\n.shareDialog .shareDialog-inputEmbedCode {\n    height: 55px;\n    resize: none;\n    display: block;\n    font-family: monospace;\n}\n.share > .arrow:after {\n    border-width: 8px;\n    content: \"\";\n}\n.share > .arrow:after {\n    content: \" \";\n    top: 1px;\n    margin-left: -5px;\n    border-top-width: 0px;\n    border-bottom-color: #fff;\n}\n.share > .arrow, .share > .arrow:after {\n\tleft: 32%;\n    top: -5px;\n    position: relative;\n    display: block;\n    width: 0px;\n    height: 0px;\n    border-style: solid;\n}\n.gmx-link_icon {\n    float: right;\n\tcolor: grey;\n    font-size: 12px;\n\tmargin-top: 4px;\n}\n.shareDialog i {\n    font-size: 12px;\n}\n.icon-twitter:before {\n    content: '\\';\n}\n.icon-facebook:before {\n    content: '\\';\n}\n.icon-vk:before {\n    content: '\\';\n}\n.icon-link-ext:before {\n    content: '\\';\n}\n.popover-content {\n    padding: 6px 8px;\n}\n</style>\n","{#if urlParams.edit}\n<div class=\"editor-sidebarContainer editor_sidebarExpanded\">\n\t<div class=\"sidebarPanel\">\n\t\t<div class=\"sidebarPanel-toolbarContainer\">\n\t\t\t<div class=\"dropdownMenuWidget\">\n{#each dropdownMenu as it}\n\t\t\t\t<div class=\"dropdownMenuWidget-item{it.checked ? ' checked' : ''}\" on:click=\"checkMe(it, this)\">\n\t\t\t\t\t<i class=\"icon-{it.name}\"></i>\n\t\t\t\t\t<span>{it.title}</span>\n\t\t\t\t</div>\n{/each}\n\t\t\t</div>\n\t\t</div>\n\t\t\t<div id=\"editor\" class=\"editor\"></div>\n\t</div>\n</div>\n{/if}\n<div class=\"editor-viewerContainer editor_sidebarExpanded\">\n\t<Map permalink={permalink} bind:map bind:urlParams />\n</div>\n{#if share}\n<Share conf={conf} />\n{/if}\n\n{#if permalink && permalink.app && permalink.app.gmxTimeline}\n<svg xmlns=\"http://www.w3.org/2000/svg\" style=\"display:none\">\n  <defs>\n  \n      <clippath id=\"clip-path\"><rect x=\"0\" y=\"0\" width=\"13\" height=\"13\"/></clippath>\n  </defs>\n    <symbol id=\"timeline-icon\" viewbox=\"0 0 13 13\">\n      <title>gmxTimeline</title>\n\t<path d=\"M6.5,0C2.9,0,0,2.9,0,6.5S2.9,13,6.5,13S13,10.1,13,6.5S10.1,0,6.5,0z M9.8,7.3H5.7V3.3h1.6v2.4h2.4V7.3z\"/>\n    </symbol>\n</svg>\n{/if}\n\n\n<script>\n\tconst serverBase = window.serverBase || '//maps.kosmosnimki.ru/',\n\t\tchkPar = (key, h1, h2, zn) => h1[key] || (key in h2 ? h2[key] : zn || true);\n\n\timport Map from './Map.html';\n\timport Share from './Share.html';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshare: false,\n\t\t\t\tconf: '',\n\t\t\t\turlParams: {},\n\t\t\t\tdropdownMenu: [\n\t\t\t\t\t{ name: 'refresh', title: 'Refresh' },\n\t\t\t\t\t{ name: 'link', title: 'Share', checked: false }\n\t\t\t\t],\n\t\t\t\tmap: null,\n\t\t\t\tpermalink: null\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tcheckMe(it, node) {\n\t\t\t\tlet cmd = it.name,\n\t\t\t\t\tjson = this.editor.getValue(),\n\t\t\t\t\tout = null;\n\t\t\t\ttry {\n\t\t\t\t\tout = JSON.parse(json);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tlet error = this.editor.getSession().getAnnotations()[0];\n\t\t\t\t\talert('  :\\n : ' + error.row + '\\n : ' + error.column + '\\n : ' + error.text);\n\t\t\t\t\tconsole.log('error in json: ' , error);\n\t\t\t\t}\n\t\t\t\tif (out) {\n\t\t\t\t\tif (cmd === 'refresh') {\n\t\t\t\t\t\tthis.set({permalink: out});\n\t\t\t\t\t} else if (cmd === 'link') {\n\t\t\t\t\t\tlet {share} = this.get();\n\t\t\t\t\t\tif (share) {\n\t\t\t\t\t\t\tnode.classList.remove('checked');\n\t\t\t\t\t\t\tthis.set({share: false});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.classList.add('checked');\n\t\t\t\t\t\t\tfetch(serverBase + 'TinyReference/Create.ashx', {\n\t\t\t\t\t\t\t\tmethod: 'post',\n\t\t\t\t\t\t\t\theaders: {'Content-type': 'application/x-www-form-urlencoded'},\n\t\t\t\t\t\t\t\tbody: L.gmxUtil.getFormData({WrapStyle: 'None', content: out}),\n\t\t\t\t\t\t\t\tmode: 'cors',\n\t\t\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t.then(json => {\n\t\t\t\t\t\t\t\tif (json.Status === 'ok') {\n\t\t\t\t\t\t\t\t\tthis.set({share: true, conf:json.Result});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(console.error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcheckPermalink(out) {\n\t\t\t\tlet {urlParams} = this.get();\n\t\t\t\t// console.log('?config=7ZSC4  dddddddd', out, urlParams)\n\t\t\t\tif (out.app) {\n\t\t\t\t\tout.app.apiKey = chkPar('apiKey', urlParams, out.apiKey, '');\t\t// apiKey\n\t\t\t\t\tout.app.theme = chkPar('theme', urlParams, out.app, 'dark');\t\t//   \n\t\t\t\t\tout.app.iconSidebar = chkPar('iconSidebar', urlParams, out.app);\t// iconSidebar  \n\t\t\t\t\tout.app.treeView = chkPar('treeView', urlParams, out.app);\t\t\t// treeView  \n\t\t\t\t\tout.app.iconLayers = chkPar('iconLayers', urlParams, out.app);\t\t// iconLayers  \n\t\t\t\t\tout.app.drawing = chkPar('drawing', urlParams, out.app);\t\t\t// drawing  \n\t\t\t\t\t//out.app.gmxTimeline = chkPar('gmxTimeline', urlParams, out.app);\t// gmxTimeline  \n\t\t\t\t\tout.app.gmxTimeline = urlParams.gmxTimeline === 'true' || out.app.gmxTimeline || false;\t// gmxTimeline   false\n\t\t\t\t\tout.app.GWWFPlugin = urlParams.GWWFPlugin === 'true' || out.app.GWWFPlugin || false;\t// GWWFPlugin   false\n\t\t\t\t}\n\t\t\t\tlet plugins = out.plugins || {};\n\t\t\t\tif (out.app.GWWFPlugin && !plugins.GWWFPlugin) {\n\t\t\t\t\tplugins.GWWFPlugin = {\n\t\t\t\t\t  \"pluginName\": \"WWF Plugin new\",\n\t\t\t\t\t  \"file\": \"//maps.kosmosnimki.ru/api/plugins/external/GMXPluginWWF/gmxPluginWWF.js\",\n\t\t\t\t\t  \"module\": \"GWWFPlugin\",\n\t\t\t\t\t  \"mapPlugin\": true,\n\t\t\t\t\t  \"isPublic\": true\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (plugins.GWWFPlugin) {\n\t\t\t\t\tL.gmxUtil.requestLink(plugins.GWWFPlugin.file.replace(/\\.js$/, '\\.css'));\n\t\t\t\t\tL.gmxUtil.requestLink(plugins.GWWFPlugin.file, {\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tout.plugins = plugins;\n\t\t\t\t\t\tthis.set({permalink: out});\n\t\t\t\t\t}).catch(console.warn);\n\t\t\t\t} else {\n\t\t\t\t\tthis.set({permalink: out});\n\t\t\t\t}\n\n\t\t\t\t//this.set({permalink: out});\n\t\t\t\t// this.set({permalink: out, confStr: JSON.stringify(out, null, 2)});\n\t\t\t\tif (urlParams.edit) {\n\t\t\t\t\tL.gmxUtil.requestLink('//cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js', {\n\t\t\t\t\t\t// integrity: 'sha256-kCykSp9wgrszaIBZpbagWbvnsHKXo4noDEi6ra6Y43w=',\n\t\t\t\t\t\t// crossorigin: 'anonymous'\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tvar editor = ace.edit(\"editor\");\n\t\t\t\t\t\teditor.setTheme(\"ace/theme/monokai\");\n\t\t\t\t\t\t// editor.session.setMode(\"ace/mode/json\");\n\t\t\t\t\t\teditor.getSession().setMode(\"ace/mode/json\");\n\n // editor.setOptions({\n    // mode: \"ace/mode/json\",\n    // theme: \"ace/theme/monokai\",\n    // fontSize: \"10pt\",\n    // showPrintMargin : false,\n    // enableBasicAutocompletion: true,\n    // enableSnippets: true,\n    // enableLiveAutocompletion: true,\n    // wrap: true,\n    // scrollPastEnd: true,\n    // displayIndentGuides: true,\n  // });\n\t\t\t\t\t\t// editor.session.setMode(\"ace/mode/javascript\");\n\t\t\t\t\t\teditor.container.getElementsByClassName('ace_scrollbar-v')[0].style.width = '4px';\n\t\t\t\t\t\teditor.setValue(JSON.stringify(out, null, 2))\n\t\t\t\t\t\tthis.editor = editor;\n\t\t\t\t\t\t// window.ted = editor;\n\t\t\t\t\t}).catch(console.warn);\n\n\t\t\t\t}\n\t\t\t\tif (out.app.gmxTimeline && out.app.gmxTimeline !== 'false') {\n\t\t\t\t\tL.gmxUtil.requestLink('//maps.kosmosnimki.ru/api/plugins/timeline/2.9.1/timeline.js');\n\t\t\t\t\tL.gmxUtil.requestLink('//maps.kosmosnimki.ru/api/plugins/timeline/2.9.1/timeline.css');\n\t\t\t\t\t// L.gmxUtil.requestLink('L.Control.gmxTimeLine.js');\n\t\t\t\t\tL.gmxUtil.requestLink('//maps.kosmosnimki.ru/api/plugins/external/GMXPluginTimeLine/L.Control.gmxTimeLine.css');\n\n\t\t\t\t\tL.gmxUtil.requestLink('//maps.kosmosnimki.ru/api/plugins/external/GMXPluginTimeLine/L.Control.gmxTimeLine.js', {\n\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\tout.plugins = plugins;\n\t\t\t\t\t\tthis.set({permalink: out});\n\t\t\t\t\t}).catch(console.warn);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetPermalink(id) {\n\t\t\t\tlet out = {};\n\t\t\t\tif (id) {\n\t\t\t\t\tfetch(serverBase + 'TinyReference/Get.ashx?WrapStyle=None&id=' + id, {\n\t\t\t\t\t\tmode: 'cors',\n\t\t\t\t\t\tcredentials: 'include'\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t.then(json => {\n\t\t\t\t\t\tif (json.Status === 'ok') {\n\t\t\t\t\t\t\tout = json.Result ? JSON.parse(json.Result) : {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.checkPermalink(out);\n\t\t\t\t\t});\n\t\t\t\t\t\t// .catch(err => console.log(err));\n\t\t\t\t// } else {\n\t\t\t\t\t// setTimeout(function() {\n\t\t\t\t\t\t// this.checkPermalink(out);\n\t\t\t\t\t// }.bind(this), 0);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcomponents: {\n\t\t\tMap,\n\t\t\tShare\n\t\t},\n\n\t\tonstate({ changed, current, previous }) {\n\t\t\t// console.log('in onstate', changed, current, previous);\n\t\t\tif (changed.urlParams) {\n\t\t\t\tlet pars = L.gmxUtil.searchScriptPars('winnie_2.0.js'),\n\t\t\t\t\tconfig = pars ? pars.config : pars._glob,\n\t\t\t\t\tconf = current.urlParams.config || config || 'RSO4E';\n\t\t\t\tthis.getPermalink(conf);\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n#editor {\n\theight: calc(100% - 40px);\n\ttop: 40px;\n}\n\n.sidebarPanel {\n    font-family: 'Roboto';\n\theight: 100%;\n}\n\n.editor-viewerContainer {\n  position: relative;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  z-index: 5;\n  float: left;\n  width: 100%;\n}\n.editor-sidebarContainer .editor-viewerContainer {\n  left: 500px;\n}\n.editor-sidebarContainer {\n  position: relative;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: 0px;\n  overflow: hidden;\n  background: #fff;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n  -webkit-transition: width .5s ease;\n  transition: width .5s ease;\n  z-index: 20;\n}\n\n.editor_sidebarExpanded.editor-sidebarContainer {\n  width: 500px;\n}\n\n.hidden {\n\tdisplay: none;\n}\n.dropdownMenuWidget {\n\tdisplay: table;\n}\n.dropdownMenuWidget {\n\theight:100%\n}\n.dropdownMenuWidget-item {\n\tdisplay: table-cell;\n\tvertical-align: middle;\n\tfont-size: 14px;\n\tcursor: pointer;\n\tpadding: 0px 10px;\n\twhite-space: nowrap;\n\tcolor: #424242;\n}\n.checked, .dropdownMenuWidget-item:hover, .dropdownMenuWidget-item.checked {\n\tbackground:rgba(0, 0, 0, 0.05)\n}\n\n.dropdownMenuWidget.right {\n    right: 0px;\n\tpadding: 0;\n    margin: 0;\n    position: absolute;\n    background-color: #ebebeb;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);\n    height: 26px;\n}\n\n.sidebarPanel-toolbarContainer {\n\tposition:absolute;\n\ttop:0;\n\tleft:0;\n\tright:0;\n\theight:40px;\n\n\tborder-right:1px solid #f0f0f0;\n\tbackground-color:#ebebeb;\n\tbox-shadow:0 0 10px rgba(0, 0, 0, 0.5);\n\n\tz-index:40\n}\n\n.pointer.title {\n    position: relative;\n    bottom: 4px;\n}\n\n</style>\n","import App from './App.html';\n\nlet pars = (() => {\n\tlet p = {};\n\tlocation.search.substr(1).split('&').forEach((it) => {\n\t\tlet arr = it.split('=');\n\t\tp[arr[0]] = arr[1];\n\t});\n\treturn p;\n})();\n\nlet locConfig = window.locConfig || {};\nif (locConfig.permID) {\n\tpars.config = locConfig.permID;\n}\nif (locConfig.apiKey) {\n\tpars.apiKey = locConfig.apiKey;\n}\nlet mCont = document.getElementsByClassName('layout-mapPlaceholder')[0];\n\nconst app = new App({\n\ttarget: mCont || document.body,\n\tdata: {\n\t\turlParams: pars\n\t}\n});\n\nexport default app;"],"names":["let","isGroup","super","const","this","require$$0","SidebarControl","IconLayers","serverBase"],"mappings":"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"}